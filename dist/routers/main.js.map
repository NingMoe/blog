{"version":3,"sources":["../../routers/main.js"],"names":["express","require","ctr_token","router","Router","get","req","res","next","render","token","uid","redirect","location","module","exports"],"mappings":";;AAAA,IAAMA,UAAUC,QAAQ,SAAR,CAAhB;AACA,IAAMC,YAAYD,QAAQ,mBAAR,CAAlB;AACA,IAAME,SAASH,QAAQI,MAAR,EAAf;AACAD,OAAOE,GAAP,CAAW,GAAX,EAAgB,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAChCD,QAAIE,MAAJ,CAAW,gBAAX,EAA4B;AACxBC,eAAMJ,IAAII,KADc;AAExBC,aAAIL,IAAIK;AAFgB,KAA5B;AAIH,CALD;;AAOAR,OAAOE,GAAP,CAAW,SAAX,EAAqB,UAACC,GAAD,EAAKC,GAAL,EAASC,IAAT,EAAgB;AACjC,QAAGF,IAAII,KAAJ,IAAaJ,IAAIK,GAApB,EAAwB;AACpBJ,YAAIE,MAAJ,CAAW,yBAAX,EAAqC;AACjCC,mBAAMJ,IAAII,KADuB;AAEjCC,iBAAIL,IAAIK;AAFyB,SAArC;AAIH,KALD,MAKK;AACDJ,YAAIK,QAAJ,CAAa,GAAb,EAAiB,QAAjB;AACH;AAEJ,CAVD;;AAYAT,OAAOE,GAAP,CAAW,SAAX,EAAqB,UAACC,GAAD,EAAKC,GAAL,EAASC,IAAT,EAAgB;AACjCD,QAAIE,MAAJ,CAAW,iBAAX;AACH,CAFD;;AAIAN,OAAOE,GAAP,CAAW,UAAX,EAAsB,UAACC,GAAD,EAAKC,GAAL,EAASC,IAAT,EAAgB;AAClCD,QAAIE,MAAJ,CAAW,kBAAX;AACH,CAFD;;AAIAN,OAAOE,GAAP,CAAW,UAAX,EAAsB,UAACC,GAAD,EAAKC,GAAL,EAASC,IAAT,EAAgB;AAClCD,QAAIM,QAAJ,CAAa,gBAAb;AACH,CAFD;;AAIAV,OAAOE,GAAP,CAAW,WAAX,EAAuB,UAACC,GAAD,EAAKC,GAAL,EAASC,IAAT,EAAgB;AACnCD,QAAIE,MAAJ,CAAW,mBAAX;AACH,CAFD;;AAIAN,OAAOE,GAAP,CAAW,QAAX,EAAqB,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACrCD,QAAIE,MAAJ,CAAW,gBAAX;AACH,CAFD;;AAIAK,OAAOC,OAAP,GAAiBZ,MAAjB","file":"main.js","sourcesContent":["const express = require('express');\nconst ctr_token = require('../libs/ctr_token');\nconst router = express.Router();\nrouter.get('/', (req, res, next) => {\n    res.render('../views/index',{\n        token:req.token,\n        uid:req.uid\n    });\n});\n\nrouter.get('/editor',(req,res,next)=>{\n    if(req.token && req.uid){\n        res.render('../views/article_editor',{\n            token:req.token,\n            uid:req.uid\n        });\n    }else{\n        res.redirect(302,'/login');\n    }\n\n});\n\nrouter.get('/upfile',(req,res,next)=>{\n    res.render('../views/upfile');\n})\n\nrouter.get('/account',(req,res,next)=>{\n    res.render('../views/account');\n})\n\nrouter.get('/signout',(req,res,next)=>{\n    res.location('../views/login');\n});\n\nrouter.get('/register',(req,res,next)=>{\n    res.render('../views/register');\n});\n\nrouter.get('/login', (req, res, next) => {\n    res.render('../views/login');\n});\n\nmodule.exports = router;"]}