{"version":3,"sources":["../../../public/js/main.js"],"names":["vm","Vue","delimiters","el","data","winW","document","body","clientWidth","documentElement","winH","clientHeight","token","name","password","remember","phone","nick","fullname","email","qq","wechat","introduce","website","timer","left","length","value","index","cursor","methods","init","console","log","uid","getUsers","getTags","getSlides","slideAutoPlay","getAllArticles","getArticle","page_type","getCollections","getCollectionById","coll_id","switchSlide","e","direction","slideAttr","slidePlay","_this","setInterval","stopSlidePlay","clearInterval","autoSlidePlay","submitForm","type","$http","post","form","then","res","code","window","location","reload","getToken","get","err","tags_list","slide_list","offset","num","ArticleArrs","all","ok","forEach","item","href","_id","hasImg","contents","search","imgRegexp","imgHtml","match","content","replace","substr","articleLists","reverse","pathname","id","getQueryString","article","articleArr","discussArr","discuss","add_date","formate_date","reg","RegExp","r","unescape","showAccountBox","accountBox","accountSymbol","editors","avatar","sex","rewardStatus","rewardDesc","changeAvatar","file","target","files","Reader","FileReader","addEventListener","result","readAsDataURL","changeUserBasicSubmitForm","popupLayerBoxShow","popupLayerText","msg","changeUserProfileSubmitForm","changeRewardSubmitForm","closePopupLayer","downloadAllArticles","commentFocus","articleComments","commentBlur","postCommentBut","popupLayerLeft","parseInt","popupLayerTop","getDiscuss","resetCommentBut","uploadCollectionIcon","fileRender","collectionIcon","collectionIconHtml","queryAdmins","collectionKeyWord","adminArr","users","collectionSubmitForm","descArr","collectionDesc","split","tmp","desc","icon","collectionName","describe","push","collectionPus","verify","collectionVerify","admins","collectionAdmins","collections","subscribe","uids","subscribed","collectionLists","coll","collection","collSubscribe","followButs","collectionPush","collectionPopupLayer","collectionSearchArticle","collectionSearchKeyWord","lists","closeCollectionPushPopupLayer","pushActionBut","article_id","moreCollections","collOffset","date","MyDate","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds"],"mappings":"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","file":"main.js","sourcesContent":["const vm = new Vue({\n    delimiters: ['${', '}'],\n    el: '#app',\n    data: {\n        winW: document.body.clientWidth || document.documentElement.clientWidth,\n        winH: document.body.clientHeight || document.documentElement.clientHeight,\n        token:'',\n        name:'',\n        password:'',\n        remember:true,\n        phone:'',\n        nick:'',\n        fullname:'',\n        email:'',\n        qq:'',\n        wechat:'',\n        introduce:'',\n        website:'',\n        introduce:'',\n        editors:'',\n        avatar:'/public/images/QQ20180131-224008@2x.png',\n        sex:3,\n        introduce:'',\n        website:'http://|https://',\n        rewardStatus:2,\n        rewardDesc:'赞赏描述',\n        slide_list:{},\n        tags_list:{},\n        slideAttr:{\n            timer:null,\n            left:0,\n            length:0,\n            value:1024,\n            index:0,\n            cursor:null\n        },\n        accountSymbol:'&#xe68f;',\n        accountBox:'none',\n        popupLayerBoxShow:'none',\n        popupLayerWidth:'100%',\n        popupLayerHeight:'100%',\n        popupLayerLeft:0,\n        popupLayerTop:0,\n        popupLayerText:'',\n        articleLists:[],\n        article:[],\n        articleComments:'填写您的评论....',\n        discuss:[],\n        imgRegexp: /<img [^>]*src=['\"]([^'\"]+)[^>]*>/gi,\n        hasImg:null,\n        collectionIconHtml:'<span class=\"collections-icon\"><i class=\"icon iconfont icontext\">&#xe603;</i></span>',\n        collectionIcon:'',\n        collectionName:'专题名称',\n        collectionDesc:'专题描述。。。',\n        collectionKeyWord:'',\n        collectionAdmins:[],\n        collectionPus:1,\n        collectionVerify:1,\n        adminArr: [],\n        collectionLists:[],\n        collHref : '',\n        collectionPopupLayer:'none',\n        collectionSearchKeyWord:'',\n        collection:{},\n        collSubscribe:false,\n        collOffset:1\n    },\n    methods:{\n        init:function(){\n            console.log();\n            if(token != '' && uid !=''){\n                this.uid = uid;\n                this.token = token;\n                this.getUsers();\n            }\n            this.getTags();\n            this.getSlides();\n            this.slideAutoPlay();\n            this.getAllArticles(0,10);\n            this.getArticle();\n            if(page_type == 'collections_list'){\n                this.getCollections(0,9);\n            }else{\n                this.getCollections(0,7);\n            }\n            if(page_type == 'collections_detailes'){\n                this.getCollectionById(coll_id);\n            }\n        },\n        switchSlide:function(e,direction){\n            if(direction == 'next'){\n                this.slideAttr.index--;\n                if(this.slideAttr.index <= -this.slideAttr.length){\n                    this.slideAttr.index = 0;\n                }\n            }else{\n                this.slideAttr.index++;\n                if(this.slideAttr.index >= 0){\n                    this.slideAttr.index = -this.slideAttr.length+1;\n                }\n            }\n            this.slidePlay(this.slideAttr.index);\n        },\n        slidePlay:function(index){\n            this.slideAttr.left = index*this.slideAttr.value;\n        },\n        slideAutoPlay:function(){\n            let _this = this;\n            this.slideAttr.timer = setInterval(function(){\n                _this.switchSlide(null,'next');\n            },1000);\n        },\n        stopSlidePlay:function(){\n            this.slideAttr.cursor = 'pointer';\n            clearInterval(this.slideAttr.timer);\n        },\n        autoSlidePlay:function(){\n            this.slideAttr.cursor = null;\n            this.slideAutoPlay();\n        },\n        submitForm:function(e,type){\n            this.$http.post('/api/signin',{name:this.name,password:this.password,form:'index',remember:this.remember}).then((res)=>{\n                if(!res) throw console.log(res);\n                console.log(res);\n                if(res.body.code == 0){\n                    window.location = '/register';\n                }else{\n                    window.location.reload();\n                }\n            });\n        },\n        getToken:function(){\n            if(!this.token || this.token == ''){\n                this.$http.get('/api/gettoken').then((res)=>{\n                    if(!res) throw console.log(err);\n                    this.token = res.body.data.token;\n                })\n            }\n        },\n        getTags:function(){\n            this.$http.get('/api/tags').then(res=>{\n                this.tags_list = res.body.data;\n            });\n        },\n        getSlides:function(){\n            this.$http.get('/api/slides').then(res=>{\n                this.slide_list = res.body.data;\n                this.slideAttr.length = res.body.data.length;\n            });\n        },\n        getAllArticles:function(offset,num){\n            this.$http.get('/api/allArticles?offset='+offset+'&num='+num).then(all=>{\n                let ArticleArrs = [];\n                if(all.body.code && all.body.ok){\n                    ArticleArrs= all.body.data;\n                    ArticleArrs.forEach(item=>{\n                        item.href='/article/details?id='+item._id;\n                        item.hasImg = item.contents.search(this.imgRegexp) > 0 ? true : false;\n\n                        item.imgHtml = item.hasImg ? item.contents.match(this.imgRegexp)[0]:'';\n                        let content = item.contents.replace(/<[^>]*>/g, \"\");\n                        item.contents = item.hasImg ? (content.length > 60 ? content.substr(0,60)+'...': content) : (content.length > 80 ? content.substr(0,80)+'...': content);\n                    });\n                    this.articleLists = ArticleArrs.reverse();\n                }\n            });\n        },\n        getArticle:function(){\n            // alert(window.location.pathname);\n            if(window.location.pathname == '/article/details'){\n                let id = this.getQueryString('id');\n                this.$http.get('/api/getArticle?id='+id).then(article=>{\n                    console.log(article);\n                    if(!article) throw console.log(article);\n                    let articleArr = article.body.data.article;\n                    articleArr['wordNumbers'] =articleArr.contents.replace(/<[^>]*>/g, \"\").length;\n                    this.article = articleArr;\n                    let discussArr = article.body.data.discuss;\n                    discussArr.forEach(item=>{\n                        item.add_date = this.formate_date(item.add_date);\n                    })\n                    this.discuss = discussArr.reverse();\n                });\n            }\n        },\n        getQueryString:function (name) {\n            let reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\",\"i\");\n            let r = window.location.search.substr(1).match(reg);\n            return r!=null ? unescape(r[2]): null;\n        },\n        showAccountBox:function(){\n            if(this.accountBox == 'none'){\n                this.accountBox = 'block';\n                this.accountSymbol = '&#xe68d';\n            }else{\n                this.accountBox = 'none';\n                this.accountSymbol = '&#xe68f;';\n            }\n        },\n        getUsers:function(){\n            this.$http.get('/api/getUsers?uid='+this.uid).then(res=>{\n                if(!res) throw console.log(res);\n                this.nick = res.body.data.nick;\n                this.phone = res.body.data.phone;\n                this.name = res.body.data.name.length >10 ? res.body.data.name.substr(0,10)+'...' : res.body.data.name;\n                this.fullname = res.body.data.name;\n                this.email = res.body.data.email;\n                this.qq = res.body.data.qq;\n                this.wechat = res.body.data.wechat;\n                this.editors = res.body.data.editors;\n                this.avatar = res.body.data.avatar ? res.body.data.avatar : this.avatar;\n                this.sex = res.body.data.sex;\n                this.introduce = res.body.data.introduce;\n                this.website = res.body.data.website;\n                this.rewardStatus = res.body.data.rewardStatus ? res.body.data.rewardStatus :this.rewardStatus;\n                this.rewardDesc = res.body.data.rewardDesc;\n            });\n        },\n        changeAvatar:function(e){\n            console.log(e);\n            let _this = this;\n            let file = e.target.files[0];\n            let Reader = new FileReader();\n            Reader.addEventListener('load', function(e){\n                console.log(e);\n                console.log(Reader);\n                _this.avatar = Reader.result;\n            },false);\n            Reader.readAsDataURL(file);\n        },\n        changeUserBasicSubmitForm:function(){\n            this.$http.post('/api/updateUserBasic',{\n                uid:this.uid,\n                nick:this.nick,\n                phone:this.phone,\n                email:this.email,\n                editors:this.editors,\n                avatar:this.avatar,\n                qq:this.qq,\n                wechat:this.wechat,\n                token:this.token\n            }).then(res=>{\n                if(!res) throw console.log(res);\n                console.log(res);\n                if(res.body.code && res.body.ok){\n                    this.popupLayerBoxShow = 'block';\n                    this.popupLayerText = res.body.msg;\n                }\n            });\n        },\n        changeUserProfileSubmitForm:function(e){\n            this.$http.post('/api/changeProfile',{\n                uid:this.uid,\n                sex:this.sex,\n                introduce:this.introduce,\n                website:this.website,\n                token:this.token\n            }).then(res=>{\n                if(!res) throw console.log(res);\n                console.log(res);\n                if(res.body.code && res.body.ok){\n                    this.popupLayerBoxShow = 'block';\n                    this.popupLayerText = res.body.msg;\n                }\n            });\n        },\n        changeRewardSubmitForm:function(e){\n            this.$http.post('/api/changeReward',{\n                uid:this.uid,\n                rewardStatus:this.rewardStatus,\n                rewardDesc:this.rewardDesc,\n                token:this.token\n            }).then(res=>{\n                if(!res) throw console.log(res);\n                console.log(res);\n                if(res.body.code && res.body.ok){\n                    this.popupLayerBoxShow = 'block';\n                    this.popupLayerText = res.body.msg;\n                }\n            });\n        },\n        closePopupLayer:function(){\n            this.popupLayerBoxShow = 'none';\n        },\n        downloadAllArticles:function(){\n            this.$http.get('/api/downloadAllArticles').then(res=>{\n                if(!res) throw console.log(res);\n                console.log(res);\n                if(res.body.code && res.body.ok){\n                    this.popupLayerBoxShow = 'block';\n                    this.popupLayerText = res.body.msg;\n                }\n            });\n        },\n        commentFocus:function(e){\n            this.articleComments = this.articleComments =='填写您的评论....' ? '':this.articleComments;\n        },\n        commentBlur:function(e){\n            this.articleComments = this.articleComments ? this.articleComments : '填写您的评论....';\n        },\n        postCommentBut:function(e,id){\n            if(uid !== '' && token !== ''){\n                if(this.articleComments == '' || this.articleComments == '填写您的评论....'){\n                    this.popupLayerBoxShow = 'block';\n                    this.popupLayerText = '请填写您的评论内容';\n                    this.popupLayerLeft = parseInt((this.winW-500)/2)+'px';\n                    this.popupLayerTop = '200px';\n                    return false;\n                }else{\n                    this.$http.post('/api/postDiscuss',{\n                        contents:this.articleComments,\n                        uid:this.uid,\n                        token:this.token,\n                        id:id\n                    }).then(res=>{\n                        if(res.body.code && res.body.ok){\n                            this.popupLayerBoxShow = 'block';\n                            this.popupLayerText = '评论成功';\n                            this.popupLayerLeft = parseInt((this.winW-500)/2)+'px';\n                            this.popupLayerTop = '200px';\n                        }\n                        this.getDiscuss(id);\n                    });\n                }\n\n            }else{\n                this.popupLayerBoxShow = 'block';\n                this.popupLayerText = '您尚未登录';\n                this.popupLayerLeft = parseInt((this.winW-500)/2)+'px';\n                this.popupLayerTop = '200px';\n                return false;\n            }\n        },\n        resetCommentBut:function(e){\n            this.articleComments = '填写您的评论....';\n        },\n        getDiscuss:function(id){\n            this.$http.get('/api/getDiscuss?id='+id+'&token='+this.token).then(discuss=>{\n                if(discuss.body.code && discuss.body.ok){\n                    let discussArr = discuss.body.data.reverse();\n                    discussArr.forEach(item=>{\n                        item.add_date = this.formate_date(item.add_date);\n                    })\n                    this.discuss = discussArr;\n\n                }else{\n                    this.discuss = [];\n                }\n            });\n        },\n        uploadCollectionIcon:function(e){\n            let _this = this;\n            let file = e.target.files[0];\n            let fileRender = new FileReader();\n            if(file){\n                fileRender.readAsDataURL(file);\n            }\n            fileRender.addEventListener('load',function(e){\n                _this.collectionIcon = e.target.result;\n                _this.collectionIconHtml = '<img src=\"'+e.target.result+'\" />';\n            },false);\n        },\n        queryAdmins:function(e){\n            this.$http.get('/api/allUsers?keyword='+this.collectionKeyWord).then(users=>{\n                this.adminArr = users.body.data;\n            });\n        },\n        collectionSubmitForm:function(e){\n            let descArr = this.collectionDesc.split('\\n');\n            let tmp = '';\n            descArr.forEach(desc=>{\n                tmp+='<p>'+desc+'</p>';\n            })\n            this.$http.post('/api/collection/new',{\n                uid:this.uid,\n                token:this.token,\n                icon:this.collectionIcon,\n                name:this.collectionName,\n                describe:tmp,\n                push:this.collectionPus,\n                verify:this.collectionVerify,\n                admins:this.collectionAdmins\n            }).then(res=>{\n                if(res.body.code && res.body.ok){\n                    window.location.href='/account/collections/detailes?id='+res.body.data._id;\n                }else{\n                    this.popupLayerBoxShow = 'block';\n                    this.popupLayerText = res.body.msg;\n                    this.popupLayerLeft = parseInt((this.winW-500)/2)+'px';\n                    this.popupLayerTop = '200px';\n                }\n            });\n        },\n        getCollections:function(offset,num){\n            this.$http.get('/api/get_collections?uid='+this.uid+'&token='+this.token+'&offset='+offset+'&num='+num).then(res=>{\n                let collections = res.body.data;\n                collections.forEach(item=>{\n                    item.href='/account/collections/detailes?id='+item._id;\n                    item.describe = item.describe.replace(/<[^>]*>/g, \"\");\n                    item.describe = item.describe.length > 30 ? item.describe.substr(0,30)+'...': item.describe;\n                    item.subscribe.forEach(uids=>{\n                        if(uids.uid == this.uid){\n                            item.subscribed = true;\n                        }else{\n                            item.subscribed = false;\n                        }\n                    })\n                })\n                this.collectionLists = collections;\n            });\n        },\n        getCollectionById:function(id){\n            this.$http.get('/api/getCollectionById?id='+id+'&token='+this.token).then(coll=>{\n                if(coll.body.code && coll.body.ok){\n                    let collection = coll.body.data;\n                    collection.subscribe.forEach(item=>{\n                        if(item.uid == this.uid){\n                            this.collSubscribe = true;\n                        }\n                    })\n                    this.collection = collection;\n                }\n            });\n        },\n        followButs:function(e,id){\n            this.$http.get('/api/collectionFollow?uid='+this.uid+'&id='+id+'&token='+this.token).then();\n        },\n        collectionPush:function(e,id){\n            this.collectionPopupLayer = 'block';\n            this.popupLayerLeft = parseInt((this.winW-580)/2)+'px';\n            this.popupLayerTop = 120+'px';\n        },\n        collectionSearchArticle:function(e){\n            this.$http.get('/api/allArticles?keyword='+this.collectionSearchKeyWord+'&token='+this.token).then(lists=>{\n                if(lists.body.code && lists.body.ok){\n                    let articleArr = lists.body.data;\n                    articleArr.forEach(item=>{\n                        item.add_date = this.formate_date(item.add_date);\n                    })\n                    this.articleLists = articleArr.reverse();\n                }else{\n                    this.articleLists = [];\n                }\n            });\n        },\n        closeCollectionPushPopupLayer:function(){\n            this.collectionPopupLayer = 'none';\n        },\n        pushActionBut:function(e,article_id,id){\n            this.$http.get('/api/articlePush?uid='+this.uid+'&article_id='+article_id+'&token='+this.token+'&id='+id).then(push=>{\n                this.collectionPopupLayer = 'none';\n                this.popupLayerBoxShow = 'block';\n                this.popupLayerText = push.body.msg;\n            });\n        },\n        moreCollections:function(e){\n            this.collOffset++;\n            this.$http.get('/api/get_collections?uid='+this.uid+'&token='+this.token+'&offset='+this.collOffset+'&num=9').then(res=>{\n                let collections = res.body.data;\n                if(collections.length > 0){\n                    collections.forEach(item=>{\n                        item.href='/account/collections/detailes?id='+item._id;\n                        item.describe = item.describe.replace(/<[^>]*>/g, \"\");\n                        item.describe = item.describe.length > 30 ? item.describe.substr(0,30)+'...': item.describe;\n                        item.subscribe.forEach(uids=>{\n                            if(uids.uid == this.uid){\n                                item.subscribed = true;\n                            }else{\n                                item.subscribed = false;\n                            }\n                        })\n                        this.collectionLists.push(item);\n                    })\n                }\n            });\n        },\n        formate_date:function(date){\n            let MyDate = new Date(date);\n            return MyDate.getFullYear()+'-'+((MyDate.getMonth()+1) <=9 ? '0'+(MyDate.getMonth()+1) : (MyDate.getMonth()+1))+'-'+MyDate.getDate()+' '+(MyDate.getHours() <=90 ? '0'+MyDate.getHours(): MyDate.getHours())+':'+(MyDate.getMinutes() <= 9 ? '0'+MyDate.getMinutes():MyDate.getMinutes())+':'+(MyDate.getSeconds() <= 9? '0'+MyDate.getSeconds() : MyDate.getSeconds());\n        }\n    }\n});\nvm.init();\n// vm.html2markdown();"]}