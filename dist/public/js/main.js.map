{"version":3,"sources":["../../../public/js/main.js"],"names":["vm","Vue","delimiters","el","data","token","name","password","remember","phone","nick","fullname","email","qq","wechat","introduce","website","timer","left","length","value","index","cursor","methods","init","console","log","uid","getUsers","getTags","getSlides","slideAutoPlay","getAllArticles","getArticle","page_type","getCollections","getCollectionById","coll_id","switchSlide","e","direction","slideAttr","slidePlay","_this","setInterval","stopSlidePlay","clearInterval","autoSlidePlay","submitForm","type","$http","post","form","then","res","body","code","window","location","reload","getToken","get","err","tags_list","slide_list","ArticleArrs","all","ok","forEach","item","href","_id","hasImg","contents","search","imgRegexp","imgHtml","match","content","replace","substr","articleLists","reverse","pathname","id","getQueryString","article","articleArr","discussArr","discuss","add_date","formate_date","reg","RegExp","r","unescape","showAccountBox","accountBox","accountSymbol","editors","avatar","sex","rewardStatus","rewardDesc","changeAvatar","file","target","files","Reader","FileReader","addEventListener","result","readAsDataURL","changeUserBasicSubmitForm","popupLayerBoxShow","popupLayerText","msg","changeUserProfileSubmitForm","changeRewardSubmitForm","closePopupLayer","downloadAllArticles","commentFocus","articleComments","commentBlur","postCommentBut","getDiscuss","resetCommentBut","uploadCollectionIcon","fileRender","collectionIcon","collectionIconHtml","queryAdmins","collectionKeyWord","adminArr","users","collectionSubmitForm","icon","collectionName","describe","collectionDesc","push","collectionPus","verify","collectionVerify","admins","collectionAdmins","collections","subscribe","uids","subscribed","collectionLists","coll","collection","collSubscribe","followButs","collectionPush","winW","document","clientWidth","documentElement","winH","clientHeight","collectionPopupLayer","popupLayerLeft","parseInt","popupLayerTop","collectionSearchArticle","alert","collectionSearchKeyWord","lists","closeCollectionPushPopupLayer","pushActionBut","article_id","date","MyDate","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds"],"mappings":"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","file":"main.js","sourcesContent":["const vm = new Vue({\n    delimiters: ['${', '}'],\n    el: '#app',\n    data: {\n        token:'',\n        name:'',\n        password:'',\n        remember:true,\n        phone:'',\n        nick:'',\n        fullname:'',\n        email:'',\n        qq:'',\n        wechat:'',\n        introduce:'',\n        website:'',\n        introduce:'',\n        editors:'',\n        avatar:'/public/images/QQ20180131-224008@2x.png',\n        sex:3,\n        introduce:'',\n        website:'http://|https://',\n        rewardStatus:2,\n        rewardDesc:'赞赏描述',\n        slide_list:{},\n        tags_list:{},\n        slideAttr:{\n            timer:null,\n            left:0,\n            length:0,\n            value:1024,\n            index:0,\n            cursor:null\n        },\n        accountSymbol:'&#xe68f;',\n        accountBox:'none',\n        popupLayerBoxShow:'none',\n        popupLayerWidth:'100%',\n        popupLayerHeight:'100%',\n        popupLayerLeft:0,\n        popupLayerTop:0,\n        popupLayerText:'',\n        articleLists:[],\n        article:[],\n        articleComments:'填写您的评论....',\n        discuss:[],\n        imgRegexp: /<img [^>]*src=['\"]([^'\"]+)[^>]*>/gi,\n        hasImg:null,\n        collectionIconHtml:'<span class=\"collections-icon\"><i class=\"icon iconfont icontext\">&#xe603;</i></span>',\n        collectionIcon:'',\n        collectionName:'专题名称',\n        collectionDesc:'专题描述。。。',\n        collectionKeyWord:'',\n        collectionAdmins:[],\n        collectionPus:1,\n        collectionVerify:1,\n        adminArr: [],\n        collectionLists:[],\n        collHref : '',\n        collectionPopupLayer:'none',\n        collectionSearchKeyWord:'',\n        collection:{},\n        collSubscribe:false\n    },\n    methods:{\n        init:function(){\n            console.log();\n            if(token != '' && uid !=''){\n                this.uid = uid;\n                this.token = token;\n                this.getUsers();\n            }\n            this.getTags();\n            this.getSlides();\n            this.slideAutoPlay();\n            this.getAllArticles();\n            this.getArticle();\n            if(page_type == 'collections_list'){\n                this.getCollections();\n            }\n            if(page_type == 'collections_detailes'){\n                this.getCollectionById(coll_id);\n            }\n        },\n        switchSlide:function(e,direction){\n            if(direction == 'next'){\n                this.slideAttr.index--;\n                if(this.slideAttr.index <= -this.slideAttr.length){\n                    this.slideAttr.index = 0;\n                }\n            }else{\n                this.slideAttr.index++;\n                if(this.slideAttr.index >= 0){\n                    this.slideAttr.index = -this.slideAttr.length+1;\n                }\n            }\n            this.slidePlay(this.slideAttr.index);\n        },\n        slidePlay:function(index){\n            this.slideAttr.left = index*this.slideAttr.value;\n        },\n        slideAutoPlay:function(){\n            let _this = this;\n            this.slideAttr.timer = setInterval(function(){\n                _this.switchSlide(null,'next');\n            },1000);\n        },\n        stopSlidePlay:function(){\n            this.slideAttr.cursor = 'pointer';\n            clearInterval(this.slideAttr.timer);\n        },\n        autoSlidePlay:function(){\n            this.slideAttr.cursor = null;\n            this.slideAutoPlay();\n        },\n        submitForm:function(e,type){\n            this.$http.post('/api/signin',{name:this.name,password:this.password,form:'index',remember:this.remember}).then((res)=>{\n                if(!res) throw console.log(res);\n                console.log(res);\n                if(res.body.code == 0){\n                    window.location = '/register';\n                }else{\n                    window.location.reload();\n                }\n            });\n        },\n        getToken:function(){\n            if(!this.token || this.token == ''){\n                this.$http.get('/api/gettoken').then((res)=>{\n                    if(!res) throw console.log(err);\n                    this.token = res.body.data.token;\n                })\n            }\n        },\n        getTags:function(){\n            this.$http.get('/api/tags').then(res=>{\n                this.tags_list = res.body.data;\n            });\n        },\n        getSlides:function(){\n            this.$http.get('/api/slides').then(res=>{\n                this.slide_list = res.body.data;\n                this.slideAttr.length = res.body.data.length;\n            });\n        },\n        getAllArticles:function(){\n            this.$http.get('/api/allArticles').then(all=>{\n                let ArticleArrs = [];\n                if(all.body.code && all.body.ok){\n                    ArticleArrs= all.body.data;\n                    ArticleArrs.forEach(item=>{\n                        item.href='/article/details?id='+item._id;\n                        item.hasImg = item.contents.search(this.imgRegexp) > 0 ? true : false;\n\n                        item.imgHtml = item.hasImg ? item.contents.match(this.imgRegexp)[0]:'';\n                        let content = item.contents.replace(/<[^>]*>/g, \"\");\n                        item.contents = item.hasImg ? (content.length > 60 ? content.substr(0,60)+'...': content) : (content.length > 80 ? content.substr(0,80)+'...': content);\n                    });\n                    this.articleLists = ArticleArrs.reverse();\n                }\n            });\n        },\n        getArticle:function(){\n            // alert(window.location.pathname);\n            if(window.location.pathname == '/article/details'){\n                let id = this.getQueryString('id');\n                this.$http.get('/api/getArticle?id='+id).then(article=>{\n                    console.log(article);\n                    if(!article) throw console.log(article);\n                    let articleArr = article.body.data.article;\n                    articleArr['wordNumbers'] =articleArr.contents.replace(/<[^>]*>/g, \"\").length;\n                    this.article = articleArr;\n                    let discussArr = article.body.data.discuss;\n                    discussArr.forEach(item=>{\n                        item.add_date = this.formate_date(item.add_date);\n                    })\n                    this.discuss = discussArr.reverse();\n                });\n            }\n        },\n        getQueryString:function (name) {\n            let reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\",\"i\");\n            let r = window.location.search.substr(1).match(reg);\n            return r!=null ? unescape(r[2]): null;\n        },\n        showAccountBox:function(){\n            if(this.accountBox == 'none'){\n                this.accountBox = 'block';\n                this.accountSymbol = '&#xe68d';\n            }else{\n                this.accountBox = 'none';\n                this.accountSymbol = '&#xe68f;';\n            }\n        },\n        getUsers:function(){\n            this.$http.get('/api/getUsers?uid='+this.uid).then(res=>{\n                if(!res) throw console.log(res);\n                this.nick = res.body.data.nick;\n                this.phone = res.body.data.phone;\n                this.name = res.body.data.name.length >10 ? res.body.data.name.substr(0,10)+'...' : res.body.data.name;\n                this.fullname = res.body.data.name;\n                this.email = res.body.data.email;\n                this.qq = res.body.data.qq;\n                this.wechat = res.body.data.wechat;\n                this.editors = res.body.data.editors;\n                this.avatar = res.body.data.avatar ? res.body.data.avatar : this.avatar;\n                this.sex = res.body.data.sex;\n                this.introduce = res.body.data.introduce;\n                this.website = res.body.data.website;\n                this.rewardStatus = res.body.data.rewardStatus ? res.body.data.rewardStatus :this.rewardStatus;\n                this.rewardDesc = res.body.data.rewardDesc;\n            });\n        },\n        changeAvatar:function(e){\n            console.log(e);\n            let _this = this;\n            let file = e.target.files[0];\n            let Reader = new FileReader();\n            Reader.addEventListener('load', function(e){\n                console.log(e);\n                console.log(Reader);\n                _this.avatar = Reader.result;\n            },false);\n            Reader.readAsDataURL(file);\n        },\n        changeUserBasicSubmitForm:function(){\n            this.$http.post('/api/updateUserBasic',{\n                uid:this.uid,\n                nick:this.nick,\n                phone:this.phone,\n                email:this.email,\n                editors:this.editors,\n                avatar:this.avatar,\n                qq:this.qq,\n                wechat:this.wechat,\n                token:this.token\n            }).then(res=>{\n                if(!res) throw console.log(res);\n                console.log(res);\n                if(res.body.code && res.body.ok){\n                    this.popupLayerBoxShow = 'block';\n                    this.popupLayerText = res.body.msg;\n                }\n            });\n        },\n        changeUserProfileSubmitForm:function(e){\n            this.$http.post('/api/changeProfile',{\n                uid:this.uid,\n                sex:this.sex,\n                introduce:this.introduce,\n                website:this.website,\n                token:this.token\n            }).then(res=>{\n                if(!res) throw console.log(res);\n                console.log(res);\n                if(res.body.code && res.body.ok){\n                    this.popupLayerBoxShow = 'block';\n                    this.popupLayerText = res.body.msg;\n                }\n            });\n        },\n        changeRewardSubmitForm:function(e){\n            this.$http.post('/api/changeReward',{\n                uid:this.uid,\n                rewardStatus:this.rewardStatus,\n                rewardDesc:this.rewardDesc,\n                token:this.token\n            }).then(res=>{\n                if(!res) throw console.log(res);\n                console.log(res);\n                if(res.body.code && res.body.ok){\n                    this.popupLayerBoxShow = 'block';\n                    this.popupLayerText = res.body.msg;\n                }\n            });\n        },\n        closePopupLayer:function(){\n            this.popupLayerBoxShow = 'none';\n        },\n        downloadAllArticles:function(){\n            this.$http.get('/api/downloadAllArticles').then(res=>{\n                if(!res) throw console.log(res);\n                console.log(res);\n                if(res.body.code && res.body.ok){\n                    this.popupLayerBoxShow = 'block';\n                    this.popupLayerText = res.body.msg;\n                }\n            });\n        },\n        commentFocus:function(e){\n            this.articleComments = this.articleComments =='填写您的评论....' ? '':this.articleComments;\n        },\n        commentBlur:function(e){\n            this.articleComments = this.articleComments ? this.articleComments : '填写您的评论....';\n        },\n        postCommentBut:function(e,id){\n            if(uid !== '' && token !== ''){\n                if(this.articleComments == '' || this.articleComments == '填写您的评论....'){\n                    this.popupLayerBoxShow = 'block';\n                    this.popupLayerText = '请填写您的评论内容';\n                    return false;\n                }else{\n                    this.$http.post('/api/postDiscuss',{\n                        contents:this.articleComments,\n                        uid:this.uid,\n                        token:this.token,\n                        id:id\n                    }).then(res=>{\n                        if(res.body.code && res.body.ok){\n                            this.popupLayerBoxShow = 'block';\n                            this.popupLayerText = '评论成功';\n                        }\n                        this.getDiscuss(id);\n                    });\n                }\n\n            }else{\n                this.popupLayerBoxShow = 'block';\n                this.popupLayerText = '您尚未登录';\n                return false;\n            }\n        },\n        resetCommentBut:function(e){\n            this.articleComments = '填写您的评论....';\n        },\n        getDiscuss:function(id){\n            this.$http.get('/api/getDiscuss?id='+id+'&token='+this.token).then(discuss=>{\n                if(discuss.body.code && discuss.body.ok){\n                    let discussArr = discuss.body.data.reverse();\n                    discussArr.forEach(item=>{\n                        item.add_date = this.formate_date(item.add_date);\n                    })\n                    this.discuss = discussArr;\n\n                }else{\n                    this.discuss = [];\n                }\n            });\n        },\n        uploadCollectionIcon:function(e){\n            let _this = this;\n            let file = e.target.files[0];\n            let fileRender = new FileReader();\n            if(file){\n                fileRender.readAsDataURL(file);\n            }\n            fileRender.addEventListener('load',function(e){\n                _this.collectionIcon = e.target.result;\n                _this.collectionIconHtml = '<img src=\"'+e.target.result+'\" />';\n            },false);\n        },\n        queryAdmins:function(e){\n            this.$http.get('/api/allUsers?keyword='+this.collectionKeyWord).then(users=>{\n                this.adminArr = users.body.data;\n            });\n        },\n        collectionSubmitForm:function(e){\n            this.$http.post('/api/collection/new',{\n                uid:this.uid,\n                token:this.token,\n                icon:this.collectionIcon,\n                name:this.collectionName,\n                describe:this.collectionDesc,\n                push:this.collectionPus,\n                verify:this.collectionVerify,\n                admins:this.collectionAdmins\n            }).then(res=>{\n                console.log(res);\n            });\n        },\n        getCollections:function(){\n            this.$http.get('/api/get_collections?uid='+this.uid+'&token='+this.token).then(res=>{\n                let collections = res.body.data;\n                collections.forEach(item=>{\n                    item.href='/account/collections/detailes?id='+item._id;\n                    item.describe = item.describe.length > 30 ? item.describe.substr(0,30)+'...': item.describe;\n                    item.subscribe.forEach(uids=>{\n                        if(uids.uid == this.uid){\n                            item.subscribed = true;\n                        }else{\n                            item.subscribed = false;\n                        }\n                    })\n                })\n                console.log(collections);\n                this.collectionLists = collections;\n            });\n        },\n        getCollectionById:function(id){\n            this.$http.get('/api/getCollectionById?id='+id+'&token='+this.token).then(coll=>{\n                if(coll.body.code && coll.body.ok){\n                    let collection = coll.body.data;\n                    collection.subscribe.forEach(item=>{\n                        if(item.uid == this.uid){\n                            this.collSubscribe = true;\n                        }\n                    })\n                    this.collection = collection;\n                }\n            });\n        },\n        followButs:function(e,id){\n            this.$http.get('/api/collectionFollow?uid='+this.uid+'&id='+id+'&token='+this.token).then();\n        },\n        collectionPush:function(e,id){\n            let winW = document.body.clientWidth || document.documentElement.clientWidth,\n                winH = document.body.clientHeight || document.documentElement.clientHeight;\n            this.collectionPopupLayer = 'block';\n            this.popupLayerLeft = parseInt((winW-580)/2)+'px';\n            this.popupLayerTop = 120+'px';\n        },\n        collectionSearchArticle:function(e){\n            alert(this.collectionSearchKeyWord);\n            this.$http.get('/api/allArticles?keyword='+this.collectionSearchKeyWord+'&token='+this.token).then(lists=>{\n                if(lists.body.code && lists.body.ok){\n                    let articleArr = lists.body.data;\n                    articleArr.forEach(item=>{\n                        item.add_date = this.formate_date(item.add_date);\n                    })\n                    this.articleLists = articleArr.reverse();\n                }else{\n                    this.articleLists = [];\n                }\n            });\n        },\n        closeCollectionPushPopupLayer:function(){\n            this.collectionPopupLayer = 'none';\n        },\n        pushActionBut:function(e,article_id,id){\n            this.$http.get('/api/articlePush?uid='+this.uid+'&article_id='+article_id+'&token='+this.token+'&id='+id).then(push=>{\n                this.collectionPopupLayer = 'none';\n                this.popupLayerBoxShow = 'block';\n                this.popupLayerText = push.body.msg;\n            });\n        },\n        formate_date:function(date){\n            let MyDate = new Date(date);\n            return MyDate.getFullYear()+'-'+((MyDate.getMonth()+1) <=9 ? '0'+(MyDate.getMonth()+1) : (MyDate.getMonth()+1))+'-'+MyDate.getDate()+' '+(MyDate.getHours() <=90 ? '0'+MyDate.getHours(): MyDate.getHours())+':'+(MyDate.getMinutes() <= 9 ? '0'+MyDate.getMinutes():MyDate.getMinutes())+':'+(MyDate.getSeconds() <= 9? '0'+MyDate.getSeconds() : MyDate.getSeconds());\n        }\n    }\n});\nvm.init();\n// vm.html2markdown();"]}