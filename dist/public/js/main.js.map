{"version":3,"sources":["../../../public/js/main.js"],"names":["vm","Vue","delimiters","el","data","token","name","password","remember","phone","nick","fullname","email","qq","wechat","introduce","website","timer","left","length","value","index","cursor","methods","init","console","log","uid","getUsers","getTags","getSlides","slideAutoPlay","getAllArticles","getArticle","switchSlide","e","direction","slideAttr","slidePlay","_this","setInterval","stopSlidePlay","clearInterval","autoSlidePlay","submitForm","type","$http","post","form","then","res","body","code","window","location","reload","getToken","get","err","tags_list","slide_list","tmp","all","ok","forEach","item","href","_id","content","contents","replace","substr","articleLists","pathname","id","getQueryString","article","articleArr","reg","RegExp","r","search","match","unescape","showAccountBox","accountBox","accountSymbol","editors","avatar","sex","rewardStatus","rewardDesc","changeAvatar","file","target","files","Reader","FileReader","addEventListener","result","readAsDataURL","changeUserBasicSubmitForm","popupLayerBoxShow","popupLayerText","msg","changeUserProfileSubmitForm","changeRewardSubmitForm","closePopupLayer","downloadAllArticles"],"mappings":"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","file":"main.js","sourcesContent":["const vm = new Vue({\n    delimiters: ['${', '}'],\n    el: '#app',\n    data: {\n        token:'',\n        name:'',\n        password:'',\n        remember:true,\n        phone:'',\n        nick:'',\n        fullname:'',\n        email:'',\n        qq:'',\n        wechat:'',\n        introduce:'',\n        website:'',\n        introduce:'',\n        editors:'',\n        avatar:'/public/images/QQ20180131-224008@2x.png',\n        sex:3,\n        introduce:'',\n        website:'http://|https://',\n        rewardStatus:2,\n        rewardDesc:'赞赏描述',\n        slide_list:{},\n        tags_list:{},\n        slideAttr:{\n            timer:null,\n            left:0,\n            length:0,\n            value:1024,\n            index:0,\n            cursor:null\n        },\n        accountSymbol:'&#xe68f;',\n        accountBox:'none',\n        popupLayerBoxShow:'none',\n        popupLayerWidth:'100%',\n        popupLayerHeight:'100%',\n        popupLayerLeft:0,\n        popupLayerTop:0,\n        popupLayerText:'',\n        articleLists:[],\n        article:[]\n    },\n    methods:{\n        init:function(){\n            console.log();\n            if(token != '' && uid !=''){\n                this.uid = uid;\n                this.token = token;\n                this.getUsers();\n            }\n            this.getTags();\n            this.getSlides();\n            this.slideAutoPlay();\n            this.getAllArticles();\n            this.getArticle();\n        },\n        switchSlide:function(e,direction){\n            if(direction == 'next'){\n                this.slideAttr.index--;\n                if(this.slideAttr.index <= -this.slideAttr.length){\n                    this.slideAttr.index = 0;\n                }\n            }else{\n                this.slideAttr.index++;\n                if(this.slideAttr.index >= 0){\n                    this.slideAttr.index = -this.slideAttr.length+1;\n                }\n            }\n            this.slidePlay(this.slideAttr.index);\n        },\n        slidePlay:function(index){\n            this.slideAttr.left = index*this.slideAttr.value;\n        },\n        slideAutoPlay:function(){\n            let _this = this;\n            this.slideAttr.timer = setInterval(function(){\n                _this.switchSlide(null,'next');\n            },1000);\n        },\n        stopSlidePlay:function(){\n            this.slideAttr.cursor = 'pointer';\n            clearInterval(this.slideAttr.timer);\n        },\n        autoSlidePlay:function(){\n            this.slideAttr.cursor = null;\n            this.slideAutoPlay();\n        },\n        submitForm:function(e,type){\n            this.$http.post('/api/signin',{name:this.name,password:this.password,form:'index',remember:this.remember}).then((res)=>{\n                if(!res) throw console.log(res);\n                console.log(res);\n                if(res.body.code == 0){\n                    window.location = '/register';\n                }else{\n                    window.location.reload();\n                }\n            });\n        },\n        getToken:function(){\n            if(!this.token || this.token == ''){\n                this.$http.get('/api/gettoken').then((res)=>{\n                    if(!res) throw console.log(err);\n                    this.token = res.body.data.token;\n                })\n            }\n        },\n        getTags:function(){\n            this.$http.get('/api/tags').then(res=>{\n                this.tags_list = res.body.data;\n            });\n        },\n        getSlides:function(){\n            this.$http.get('/api/slides').then(res=>{\n                this.slide_list = res.body.data;\n                this.slideAttr.length = res.body.data.length;\n            });\n        },\n        getAllArticles:function(){\n            this.$http.get('/api/allArticles').then(all=>{\n                let tmp = [];\n                if(all.body.code && all.body.ok){\n                    tmp= all.body.data;\n                    tmp.forEach(item=>{\n                        item.href='/article/details?id='+item._id;\n                        let content = item.contents.replace(/<[^>]*>/g, \"\");\n                        item.contents = content.length > 30 ? content.substr(0,30)+'...': content;\n                    });\n                    this.articleLists = tmp;\n                }\n\n            });\n        },\n        getArticle:function(){\n            // alert(window.location.pathname);\n            if(window.location.pathname == '/article/details'){\n                let id = this.getQueryString('id');\n                this.$http.get('/api/getArticle?id='+id).then(article=>{\n                    console.log(article);\n                    if(!article) throw console.log(article);\n                    let articleArr =article.body.data;\n                    articleArr['wordNumbers'] =articleArr.contents.replace(/<[^>]*>/g, \"\").length;\n                    this.article = articleArr\n                });\n            }\n        },\n        getQueryString:function (name) {\n            var reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\",\"i\");\n            var r = window.location.search.substr(1).match(reg);\n            return r!=null ? unescape(r[2]): null;\n        },\n        showAccountBox:function(){\n            if(this.accountBox == 'none'){\n                this.accountBox = 'block';\n                this.accountSymbol = '&#xe68d';\n            }else{\n                this.accountBox = 'none';\n                this.accountSymbol = '&#xe68f;';\n            }\n        },\n        getUsers:function(){\n            this.$http.get('/api/getUsers?uid='+this.uid).then(res=>{\n                if(!res) throw console.log(res);\n                this.nick = res.body.data.nick;\n                this.phone = res.body.data.phone;\n                this.name = res.body.data.name.length >10 ? res.body.data.name.substr(0,10)+'...' : res.body.data.name;\n                this.fullname = res.body.data.name;\n                this.email = res.body.data.email;\n                this.qq = res.body.data.qq;\n                this.wechat = res.body.data.wechat;\n                this.editors = res.body.data.editors;\n                this.avatar = res.body.data.avatar ? res.body.data.avatar : this.avatar;\n                this.sex = res.body.data.sex;\n                this.introduce = res.body.data.introduce;\n                this.website = res.body.data.website;\n                this.rewardStatus = res.body.data.rewardStatus ? res.body.data.rewardStatus :this.rewardStatus;\n                this.rewardDesc = res.body.data.rewardDesc;\n            });\n        },\n        changeAvatar:function(e){\n            console.log(e);\n            let _this = this;\n            let file = e.target.files[0];\n            let Reader = new FileReader();\n            Reader.addEventListener('load', function(e){\n                console.log(e);\n                console.log(Reader);\n                _this.avatar = Reader.result;\n            },false);\n            Reader.readAsDataURL(file);\n        },\n        changeUserBasicSubmitForm:function(){\n            this.$http.post('/api/updateUserBasic',{\n                uid:this.uid,\n                nick:this.nick,\n                phone:this.phone,\n                email:this.email,\n                editors:this.editors,\n                avatar:this.avatar,\n                qq:this.qq,\n                wechat:this.wechat,\n                token:this.token\n            }).then(res=>{\n                if(!res) throw console.log(res);\n                console.log(res);\n                if(res.body.code && res.body.ok){\n                    this.popupLayerBoxShow = 'block';\n                    this.popupLayerText = res.body.msg;\n                }\n            });\n        },\n        changeUserProfileSubmitForm:function(e){\n            this.$http.post('/api/changeProfile',{\n                uid:this.uid,\n                sex:this.sex,\n                introduce:this.introduce,\n                website:this.website,\n                token:this.token\n            }).then(res=>{\n                if(!res) throw console.log(res);\n                console.log(res);\n                if(res.body.code && res.body.ok){\n                    this.popupLayerBoxShow = 'block';\n                    this.popupLayerText = res.body.msg;\n                }\n            });\n        },\n        changeRewardSubmitForm:function(e){\n            this.$http.post('/api/changeReward',{\n                uid:this.uid,\n                rewardStatus:this.rewardStatus,\n                rewardDesc:this.rewardDesc,\n                token:this.token\n            }).then(res=>{\n                if(!res) throw console.log(res);\n                console.log(res);\n                if(res.body.code && res.body.ok){\n                    this.popupLayerBoxShow = 'block';\n                    this.popupLayerText = res.body.msg;\n                }\n            });\n        },\n        closePopupLayer:function(){\n            this.popupLayerBoxShow = 'none';\n        },\n        downloadAllArticles:function(){\n            this.$http.get('/api/downloadAllArticles').then(res=>{\n                if(!res) throw console.log(res);\n                console.log(res);\n                if(res.body.code && res.body.ok){\n                    this.popupLayerBoxShow = 'block';\n                    this.popupLayerText = res.body.msg;\n                }\n            });\n        }\n    }\n});\nvm.init();\n// vm.html2markdown();"]}