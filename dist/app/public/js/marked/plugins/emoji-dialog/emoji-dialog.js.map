{"version":3,"sources":["../../../../../../../app/public/js/marked/plugins/emoji-dialog/emoji-dialog.js"],"names":["factory","exports","$","jQuery","pluginName","emojiTabIndex","emojiData","selecteds","logoPrefix","logos","langs","toolbar","emoji","dialog","title","fn","emojiDialog","_this","cm","settings","alert","path","pluginPath","editor","cursor","getCursor","selection","getSelection","classPrefix","extend","lang","name","setToolbar","dialogName","dialogLang","dialogContent","join","focus","find","length","removeClass","dialogShowMask","dialogLockScreen","show","createDialog","width","height","mask","drag","dialogDraggable","content","lockScreen","maskStyle","opacity","dialogMaskOpacity","backgroundColor","dialogMaskBgColor","buttons","enter","replaceSelection","hide","hideMask","cancel","category","tab","html","head","i","active","append","container","x","display","tabBoxs","emojiCategories","drawTable","cname","$data","$tab","eq","pagination","data","type","rowNumber","pageTotal","Math","ceil","table","row","trim","img","icon","src","ext","twemojiSrc","twemoji","len","h4Style","list","bind","mouseOrTouch","toggleClass","hasClass","push","attr","loading","getJSON","random","json","$this","index","addClass","siblings","require","module","define","amd","editormd","window"],"mappings":"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","file":"emoji-dialog.js","sourcesContent":["/*!\r\n * Emoji dialog plugin for Editor.md\r\n *\r\n * @file        emoji-dialog.js\r\n * @author      pandao\r\n * @version     1.2.0\r\n * @updateTime  2015-03-08\r\n * {@link       https://github.com/pandao/editor.md}\r\n * @license     MIT\r\n */\r\n\r\n(function() {\r\n\r\n\tvar factory = function (exports) {\r\n\r\n\t\tvar $             = jQuery;\r\n\t\tvar pluginName    = \"emoji-dialog\";\r\n\t\tvar emojiTabIndex = 0;\r\n\t\tvar emojiData     = [];\r\n        var selecteds     = [];\r\n\r\n\t\tvar logoPrefix    = \"editormd-logo\";\r\n\t\tvar logos         = [\r\n\t\t\tlogoPrefix,\r\n\t\t\tlogoPrefix + \"-1x\",\r\n\t\t\tlogoPrefix + \"-2x\",\r\n\t\t\tlogoPrefix + \"-3x\",\r\n\t\t\tlogoPrefix + \"-4x\",\r\n\t\t\tlogoPrefix + \"-5x\",\r\n\t\t\tlogoPrefix + \"-6x\",\r\n\t\t\tlogoPrefix + \"-7x\",\r\n\t\t\tlogoPrefix + \"-8x\"\r\n\t\t];\r\n\r\n\t\tvar langs = {\r\n\t\t\t\"zh-cn\" : {\r\n\t\t\t\ttoolbar : {\r\n\t\t\t\t\temoji : \"Emoji 表情\"\r\n\t\t\t\t},\r\n\t\t\t\tdialog : {\r\n\t\t\t\t\temoji : {\r\n\t\t\t\t\t\ttitle : \"Emoji 表情\"\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"zh-tw\" : {\r\n\t\t\t\ttoolbar : {\r\n\t\t\t\t\temoji : \"Emoji 表情\"\r\n\t\t\t\t},\r\n\t\t\t\tdialog : {\r\n\t\t\t\t\temoji : {\r\n\t\t\t\t\t\ttitle : \"Emoji 表情\"\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"en\" : {\r\n\t\t\t\ttoolbar : {\r\n\t\t\t\t\temoji : \"Emoji\"\r\n\t\t\t\t},\r\n\t\t\t\tdialog : {\r\n\t\t\t\t\temoji : {\r\n\t\t\t\t\t\ttitle : \"Emoji\"\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\texports.fn.emojiDialog = function() {\r\n\t\t\tvar _this       = this;\r\n\t\t\tvar cm          = this.cm;\r\n\t\t\tvar settings    = _this.settings;\r\n            \r\n            if (!settings.emoji)\r\n            {\r\n                alert(\"settings.emoji == false\");\r\n                return ;\r\n            }\r\n            \r\n\t\t\tvar path        = settings.pluginPath + pluginName + \"/\";\r\n\t\t\tvar editor      = this.editor;\r\n\t\t\tvar cursor      = cm.getCursor();\r\n\t\t\tvar selection   = cm.getSelection();\r\n\t\t\tvar classPrefix = this.classPrefix;\r\n\r\n\t\t\t$.extend(true, this.lang, langs[this.lang.name]);\r\n\t\t\tthis.setToolbar();\r\n\r\n\t\t\tvar lang        = this.lang;\r\n\t\t\tvar dialogName  = classPrefix + pluginName, dialog;\r\n\t\t\tvar dialogLang  = lang.dialog.emoji;\r\n\t\t\t\r\n\t\t\tvar dialogContent = [\r\n\t\t\t\t\"<div class=\\\"\" + classPrefix + \"emoji-dialog-box\\\" style=\\\"width: 760px;height: 334px;margin-bottom: 8px;overflow: hidden;\\\">\",\r\n\t\t\t\t\"<div class=\\\"\" + classPrefix + \"tab\\\"></div>\",\r\n\t\t\t\t\"</div>\",\r\n\t\t\t].join(\"\\n\");\r\n\r\n\t\t\tcm.focus();\r\n\r\n\t\t\tif (editor.find(\".\" + dialogName).length > 0) \r\n\t\t\t{\r\n                dialog = editor.find(\".\" + dialogName);\r\n\r\n\t\t\t\tselecteds = [];\r\n\t\t\t\tdialog.find(\"a\").removeClass(\"selected\");\r\n\r\n\t\t\t\tthis.dialogShowMask(dialog);\r\n\t\t\t\tthis.dialogLockScreen();\r\n\t\t\t\tdialog.show();\r\n\t\t\t} \r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tdialog = this.createDialog({\r\n\t\t\t\t\tname       : dialogName,\r\n\t\t\t\t\ttitle      : dialogLang.title,\r\n\t\t\t\t\twidth      : 800,\r\n\t\t\t\t\theight     : 475,\r\n\t\t\t\t\tmask       : settings.dialogShowMask,\r\n\t\t\t\t\tdrag       : settings.dialogDraggable,\r\n\t\t\t\t\tcontent    : dialogContent,\r\n\t\t\t\t\tlockScreen : settings.dialogLockScreen,\r\n\t\t\t\t\tmaskStyle  : {\r\n\t\t\t\t\t\topacity         : settings.dialogMaskOpacity,\r\n\t\t\t\t\t\tbackgroundColor : settings.dialogMaskBgColor\r\n\t\t\t\t\t},\r\n\t\t\t\t\tbuttons    : {\r\n\t\t\t\t\t\tenter  : [lang.buttons.enter, function() {\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tcm.replaceSelection(selecteds.join(\" \"));\r\n\t\t\t\t\t\t\tthis.hide().lockScreen(false).hideMask();\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}],\r\n\t\t\t\t\t\tcancel : [lang.buttons.cancel, function() {                           \r\n\t\t\t\t\t\t\tthis.hide().lockScreen(false).hideMask();\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}]\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvar category = [\"Github emoji\", \"Twemoji\", \"Font awesome\", \"Editor.md logo\"];\r\n\t\t\tvar tab      = dialog.find(\".\" + classPrefix + \"tab\");\r\n\r\n\t\t\tif (tab.html() === \"\") \r\n\t\t\t{\r\n\t\t\t\tvar head = \"<ul class=\\\"\" + classPrefix + \"tab-head\\\">\";\r\n\r\n\t\t\t\tfor (var i = 0; i<4; i++) {\r\n\t\t\t\t\tvar active = (i === 0) ? \" class=\\\"active\\\"\" : \"\";\r\n\t\t\t\t\thead += \"<li\" + active + \"><a href=\\\"javascript:;\\\">\" + category[i] + \"</a></li>\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\thead += \"</ul>\";\r\n\r\n\t\t\t\ttab.append(head);\r\n\r\n\t\t\t\tvar container = \"<div class=\\\"\" + classPrefix + \"tab-container\\\">\";\r\n\r\n\t\t\t\tfor (var x = 0; x < 4; x++) \r\n                {\r\n\t\t\t\t\tvar display = (x === 0) ? \"\" : \"display:none;\";\r\n\t\t\t\t\tcontainer += \"<div class=\\\"\" + classPrefix + \"tab-box\\\" style=\\\"height: 260px;overflow: hidden;overflow-y: auto;\" + display + \"\\\"></div>\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcontainer += \"</div>\";\r\n\r\n\t\t\t\ttab.append(container);  \r\n\t\t\t}\r\n            \r\n\t\t\tvar tabBoxs = tab.find(\".\" + classPrefix + \"tab-box\");\r\n            var emojiCategories = [\"github-emoji\", \"twemoji\", \"font-awesome\", logoPrefix];\r\n\r\n\t\t\tvar drawTable = function() {\r\n                var cname = emojiCategories[emojiTabIndex];\r\n\t\t\t\tvar $data = emojiData[cname];\r\n                var $tab  = tabBoxs.eq(emojiTabIndex);\r\n\r\n\t\t\t\tif ($tab.html() !== \"\") {\r\n                    //console.log(\"break =>\", cname);\r\n                    return ;\r\n                }\r\n                \r\n                var pagination = function(data, type) {\r\n                    var rowNumber = (type === \"editormd-logo\") ? \"5\" : 20;\r\n                    var pageTotal = Math.ceil(data.length / rowNumber);\r\n                    var table     = \"<div class=\\\"\" + classPrefix + \"grid-table\\\">\";\r\n\r\n                    for (var i = 0; i < pageTotal; i++)\r\n                    {\r\n                        var row = \"<div class=\\\"\" + classPrefix + \"grid-table-row\\\">\";\r\n\r\n                        for (var x = 0; x < rowNumber; x++)\r\n                        {\r\n                            var emoji = $.trim(data[(i * rowNumber) + x]);\r\n                            \r\n                            if (typeof emoji !== \"undefined\" && emoji !== \"\")\r\n                            {\r\n                                var img = \"\", icon = \"\";\r\n                                \r\n                                if (type === \"github-emoji\")\r\n                                {\r\n                                    var src = (emoji === \"+1\") ? \"plus1\" : emoji;\r\n                                    src     = (src === \"black_large_square\") ? \"black_square\" : src;\r\n                                    src     = (src === \"moon\") ? \"waxing_gibbous_moon\" : src;\r\n                                    \r\n                                    src     = exports.emoji.path + src + exports.emoji.ext;\r\n                                    img     = \"<img src=\\\"\" + src + \"\\\" width=\\\"24\\\" class=\\\"emoji\\\" title=\\\"&#58;\" + emoji + \"&#58;\\\" alt=\\\"&#58;\" + emoji + \"&#58;\\\" />\";\r\n                                    row += \"<a href=\\\"javascript:;\\\" value=\\\":\" + emoji + \":\\\" title=\\\":\" + emoji + \":\\\" class=\\\"\" + classPrefix + \"emoji-btn\\\">\" + img + \"</a>\";\r\n                                }\r\n                                else if (type === \"twemoji\")\r\n                                {\r\n                                    var twemojiSrc = exports.twemoji.path + emoji + exports.twemoji.ext;\r\n                                    img = \"<img src=\\\"\" + twemojiSrc + \"\\\" width=\\\"24\\\" title=\\\"twemoji-\" + emoji + \"\\\" alt=\\\"twemoji-\" + emoji + \"\\\" class=\\\"emoji twemoji\\\" />\";\r\n                                    row += \"<a href=\\\"javascript:;\\\" value=\\\":tw-\" + emoji + \":\\\" title=\\\":tw-\" + emoji + \":\\\" class=\\\"\" + classPrefix + \"emoji-btn\\\">\" + img + \"</a>\";\r\n                                }\r\n                                else if (type === \"font-awesome\")\r\n                                {\r\n                                    icon = \"<i class=\\\"fa fa-\" + emoji + \" fa-emoji\\\" title=\\\"\" + emoji + \"\\\"></i>\";\r\n                                    row += \"<a href=\\\"javascript:;\\\" value=\\\":fa-\" + emoji + \":\\\" title=\\\":fa-\" + emoji + \":\\\" class=\\\"\" + classPrefix + \"emoji-btn\\\">\" + icon + \"</a>\";\r\n                                }\r\n                                else if (type === \"editormd-logo\")\r\n                                {\r\n                                    icon = \"<i class=\\\"\" + emoji + \"\\\" title=\\\"Editor.md logo (\" + emoji + \")\\\"></i>\";\r\n                                    row += \"<a href=\\\"javascript:;\\\" value=\\\":\" + emoji + \":\\\" title=\\\":\" + emoji + \":\\\" style=\\\"width:20%;\\\" class=\\\"\" + classPrefix + \"emoji-btn\\\">\" + icon + \"</a>\";\r\n                                }\r\n                            }\r\n                            else\r\n                            {\r\n                                row += \"<a href=\\\"javascript:;\\\" value=\\\"\\\"></a>\";                        \r\n                            }\r\n                        }\r\n\r\n                        row += \"</div>\";\r\n\r\n                        table += row;\r\n                    }\r\n\r\n                    table += \"</div>\";\r\n                    \r\n                    return table;\r\n                };\r\n                \r\n                if (emojiTabIndex === 0)\r\n                {\r\n                    for (var i = 0, len = $data.length; i < len; i++)\r\n                    {\r\n                        var h4Style = (i === 0) ? \" style=\\\"margin: 0 0 10px;\\\"\" : \" style=\\\"margin: 10px 0;\\\"\";\r\n                        $tab.append(\"<h4\" + h4Style + \">\" + $data[i].category + \"</h4>\");\r\n                        $tab.append(pagination($data[i].list, cname));\r\n                    }\r\n                }\r\n                else\r\n                {\r\n                    $tab.append(pagination($data, cname));\r\n                }\r\n\r\n\t\t\t\t$tab.find(\".\" + classPrefix + \"emoji-btn\").bind(exports.mouseOrTouch(\"click\", \"touchend\"), function() {\r\n\t\t\t\t\t$(this).toggleClass(\"selected\");\r\n\r\n\t\t\t\t\tif ($(this).hasClass(\"selected\")) \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tselecteds.push($(this).attr(\"value\"));\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\tif (emojiData.length < 1) \r\n\t\t\t{            \r\n\t\t\t\tif (typeof dialog.loading === \"function\") {\r\n                    dialog.loading(true);\r\n                }\r\n\r\n\t\t\t\t$.getJSON(path + \"emoji.json?temp=\" + Math.random(), function(json) {\r\n\r\n\t\t\t\t\tif (typeof dialog.loading === \"function\") {\r\n                        dialog.loading(false);\r\n                    }\r\n\r\n\t\t\t\t\temojiData = json;\r\n                    emojiData[logoPrefix] = logos;\r\n\t\t\t\t\tdrawTable();\r\n\t\t\t\t});\r\n\t\t\t} \r\n\t\t\telse \r\n\t\t\t{\r\n\t\t\t\tdrawTable();\r\n\t\t\t}\r\n\r\n\t\t\ttab.find(\"li\").bind(exports.mouseOrTouch(\"click\", \"touchend\"), function() {\r\n\t\t\t\tvar $this     = $(this);\r\n\t\t\t\temojiTabIndex = $this.index();\r\n\r\n\t\t\t\t$this.addClass(\"active\").siblings().removeClass(\"active\");\r\n\t\t\t\ttabBoxs.eq(emojiTabIndex).show().siblings().hide();\r\n\t\t\t\tdrawTable();\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t};\r\n    \r\n\t// CommonJS/Node.js\r\n\tif (typeof require === \"function\" && typeof exports === \"object\" && typeof module === \"object\")\r\n    { \r\n        module.exports = factory;\r\n    }\r\n\telse if (typeof define === \"function\")  // AMD/CMD/Sea.js\r\n    {\r\n\t\tif (define.amd) { // for Require.js\r\n\r\n\t\t\tdefine([\"editormd\"], function(editormd) {\r\n                factory(editormd);\r\n            });\r\n\r\n\t\t} else { // for Sea.js\r\n\t\t\tdefine(function(require) {\r\n                var editormd = require(\"./../../editormd\");\r\n                factory(editormd);\r\n            });\r\n\t\t}\r\n\t} \r\n\telse\r\n\t{\r\n        factory(window.editormd);\r\n\t}\r\n\r\n})();\r\n"]}