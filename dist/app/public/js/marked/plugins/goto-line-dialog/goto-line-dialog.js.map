{"version":3,"sources":["../../../../../../../app/public/js/marked/plugins/goto-line-dialog/goto-line-dialog.js"],"names":["factory","exports","$","jQuery","pluginName","langs","toolbar","dialog","title","label","error","fn","gotoLineDialog","_this","cm","editor","settings","path","pluginPath","classPrefix","dialogName","extend","lang","name","setToolbar","dialogLang","lineCount","find","length","dialogContent","join","createDialog","width","height","mask","dialogShowMask","drag","dialogDraggable","content","lockScreen","dialogLockScreen","maskStyle","opacity","dialogMaskOpacity","backgroundColor","dialogMaskBgColor","buttons","enter","line","parseInt","val","alert","gotoLine","hide","hideMask","cancel","show","require","module","define","amd","editormd","window"],"mappings":"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","file":"goto-line-dialog.js","sourcesContent":["/*!\r\n * Goto line dialog plugin for Editor.md\r\n *\r\n * @file        goto-line-dialog.js\r\n * @author      pandao\r\n * @version     1.2.1\r\n * @updateTime  2015-06-09\r\n * {@link       https://github.com/pandao/editor.md}\r\n * @license     MIT\r\n */\r\n\r\n(function() {\r\n\r\n\tvar factory = function (exports) {\r\n\r\n\t\tvar $            = jQuery;\r\n\t\tvar pluginName   = \"goto-line-dialog\";\r\n\r\n\t\tvar langs = {\r\n\t\t\t\"zh-cn\" : {\r\n\t\t\t\ttoolbar : {\r\n\t\t\t\t\t\"goto-line\" : \"跳转到行\"\r\n\t\t\t\t},\r\n\t\t\t\tdialog : {\r\n\t\t\t\t\t\"goto-line\" : {\r\n\t\t\t\t\t\ttitle  : \"跳转到行\",\r\n\t\t\t\t\t\tlabel  : \"请输入行号\",\r\n\t\t\t\t\t\terror  : \"错误：\"\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"zh-tw\" : {\r\n\t\t\t\ttoolbar : {\r\n\t\t\t\t\t\"goto-line\" : \"跳轉到行\"\r\n\t\t\t\t},\r\n\t\t\t\tdialog : {\r\n\t\t\t\t\t\"goto-line\" : {\r\n\t\t\t\t\t\ttitle  : \"跳轉到行\",\r\n\t\t\t\t\t\tlabel  : \"請輸入行號\",\r\n\t\t\t\t\t\terror  : \"錯誤：\"\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"en\" : {\r\n\t\t\t\ttoolbar : {\r\n\t\t\t\t\t\"goto-line\" : \"Goto line\"\r\n\t\t\t\t},\r\n\t\t\t\tdialog : {\r\n\t\t\t\t\t\"goto-line\" : {\r\n\t\t\t\t\t\ttitle  : \"Goto line\",\r\n\t\t\t\t\t\tlabel  : \"Enter a line number, range \",\r\n\t\t\t\t\t\terror  : \"Error: \"\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\texports.fn.gotoLineDialog = function() {\r\n\t\t\tvar _this       = this;\r\n\t\t\tvar cm          = this.cm;\r\n\t\t\tvar editor      = this.editor;\r\n\t\t\tvar settings    = this.settings;\r\n\t\t\tvar path        = settings.pluginPath + pluginName +\"/\";\r\n\t\t\tvar classPrefix = this.classPrefix;\r\n\t\t\tvar dialogName  = classPrefix + pluginName, dialog;\r\n\r\n\t\t\t$.extend(true, this.lang, langs[this.lang.name]);\r\n\t\t\tthis.setToolbar();\r\n\r\n\t\t\tvar lang        = this.lang;\r\n\t\t\tvar dialogLang  = lang.dialog[\"goto-line\"];\r\n\t\t\tvar lineCount   = cm.lineCount();\r\n\r\n\t\t\tdialogLang.error += dialogLang.label + \" 1-\" + lineCount;\r\n\r\n\t\t\tif (editor.find(\".\" + dialogName).length < 1) \r\n\t\t\t{\t\t\t\r\n\t\t\t\tvar dialogContent = [\r\n\t\t\t\t\t\"<div class=\\\"editormd-form\\\" style=\\\"padding: 10px 0;\\\">\",\r\n\t\t\t\t\t\"<p style=\\\"margin: 0;\\\">\" + dialogLang.label + \" 1-\" + lineCount +\"&nbsp;&nbsp;&nbsp;<input type=\\\"number\\\" class=\\\"number-input\\\" style=\\\"width: 60px;\\\" value=\\\"1\\\" max=\\\"\" + lineCount + \"\\\" min=\\\"1\\\" data-line-number /></p>\",\r\n\t\t\t\t\t\"</div>\"\r\n\t\t\t\t].join(\"\\n\");\r\n\r\n\t\t\t\tdialog = this.createDialog({\r\n\t\t\t\t\tname       : dialogName,\r\n\t\t\t\t\ttitle      : dialogLang.title,\r\n\t\t\t\t\twidth      : 400,\r\n\t\t\t\t\theight     : 180,\r\n\t\t\t\t\tmask       : settings.dialogShowMask,\r\n\t\t\t\t\tdrag       : settings.dialogDraggable,\r\n\t\t\t\t\tcontent    : dialogContent,\r\n\t\t\t\t\tlockScreen : settings.dialogLockScreen,\r\n\t\t\t\t\tmaskStyle  : {\r\n\t\t\t\t\t\topacity         : settings.dialogMaskOpacity,\r\n\t\t\t\t\t\tbackgroundColor : settings.dialogMaskBgColor\r\n\t\t\t\t\t},\r\n\t\t\t\t\tbuttons    : {\r\n                        enter : [lang.buttons.enter, function() {\r\n\t\t\t\t\t\t\tvar line   = parseInt(this.find(\"[data-line-number]\").val());\r\n\r\n\t\t\t\t\t\t\tif (line < 1 || line > lineCount) {\r\n\t\t\t\t\t\t\t\talert(dialogLang.error);\r\n\r\n\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t_this.gotoLine(line);\r\n\r\n                            this.hide().lockScreen(false).hideMask();\r\n\r\n                            return false;\r\n                        }],\r\n\r\n                        cancel : [lang.buttons.cancel, function() {                                   \r\n                            this.hide().lockScreen(false).hideMask();\r\n\r\n                            return false;\r\n                        }]\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tdialog = editor.find(\".\" + dialogName);\r\n\r\n\t\t\tthis.dialogShowMask(dialog);\r\n\t\t\tthis.dialogLockScreen();\r\n\t\t\tdialog.show();\r\n\t\t};\r\n\r\n\t};\r\n    \r\n\t// CommonJS/Node.js\r\n\tif (typeof require === \"function\" && typeof exports === \"object\" && typeof module === \"object\")\r\n    { \r\n        module.exports = factory;\r\n    }\r\n\telse if (typeof define === \"function\")  // AMD/CMD/Sea.js\r\n    {\r\n\t\tif (define.amd) { // for Require.js\r\n\r\n\t\t\tdefine([\"editormd\"], function(editormd) {\r\n                factory(editormd);\r\n            });\r\n\r\n\t\t} else { // for Sea.js\r\n\t\t\tdefine(function(require) {\r\n                var editormd = require(\"./../../editormd\");\r\n                factory(editormd);\r\n            });\r\n\t\t}\r\n\t} \r\n\telse\r\n\t{\r\n        factory(window.editormd);\r\n\t}\r\n\r\n})();\r\n"]}