{"version":3,"sources":["../../../../../../../app/public/js/marked/plugins/code-block-dialog/code-block-dialog.js"],"names":["factory","exports","cmEditor","pluginName","codeLanguages","asp","actionscript","bash","css","c","cpp","csharp","coffeescript","d","dart","delphi","erlang","go","groovy","html","java","json","javascript","lua","less","markdown","php","perl","python","r","rst","ruby","sql","sass","shell","scala","swift","vb","xml","yaml","fn","codeBlockDialog","_this","cm","lang","editor","settings","cursor","getCursor","selection","getSelection","classPrefix","dialogName","dialog","dialogLang","codeBlock","focus","find","length","attr","val","dialogShowMask","dialogLockScreen","show","dialogHTML","selectLabel","selectDefaultText","createDialog","name","title","width","height","mask","drag","dialogDraggable","content","lockScreen","maskStyle","opacity","dialogMaskOpacity","backgroundColor","dialogMaskBgColor","buttons","enter","codeTexts","langName","alert","unselectedLanguageAlert","codeEmptyAlert","replaceSelection","join","setCursor","line","ch","hide","hideMask","cancel","langSelect","key","codeLang","append","otherLanguage","mode","cmConfig","theme","tabSize","autofocus","autoCloseTags","indentUnit","lineNumbers","lineWrapping","extraKeys","foldCode","foldGutter","gutters","matchBrackets","indentWithTabs","styleActiveLine","styleSelectedText","autoCloseBrackets","showTrailingSpace","highlightSelectionMatches","textarea","cmObj","$CodeMirror","fromTextArea","margin","border","fontSize","on","getValue","setValue","change","_mode","$","setOption","require","module","define","amd","editormd","window"],"mappings":"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","file":"code-block-dialog.js","sourcesContent":["/*!\r\n * Code block dialog plugin for Editor.md\r\n *\r\n * @file        code-block-dialog.js\r\n * @author      pandao\r\n * @version     1.2.0\r\n * @updateTime  2015-03-07\r\n * {@link       https://github.com/pandao/editor.md}\r\n * @license     MIT\r\n */\r\n\r\n(function() {\r\n\r\n    var factory = function (exports) {\r\n\t\tvar cmEditor;\r\n\t\tvar pluginName    = \"code-block-dialog\";\r\n    \r\n\t\t// for CodeBlock dialog select\r\n\t\tvar codeLanguages = exports.codeLanguages = {\r\n\t\t\tasp           : [\"ASP\", \"vbscript\"],\r\n\t\t\tactionscript  : [\"ActionScript(3.0)/Flash/Flex\", \"clike\"],\r\n\t\t\tbash          : [\"Bash/Bat\", \"shell\"],\r\n\t\t\tcss           : [\"CSS\", \"css\"],\r\n\t\t\tc             : [\"C\", \"clike\"],\r\n\t\t\tcpp           : [\"C++\", \"clike\"],\r\n\t\t\tcsharp        : [\"C#\", \"clike\"],\r\n\t\t\tcoffeescript  : [\"CoffeeScript\", \"coffeescript\"],\r\n\t\t\td             : [\"D\", \"d\"],\r\n\t\t\tdart          : [\"Dart\", \"dart\"],\r\n\t\t\tdelphi        : [\"Delphi/Pascal\", \"pascal\"],\r\n\t\t\terlang        : [\"Erlang\", \"erlang\"],\r\n\t\t\tgo            : [\"Golang\", \"go\"],\r\n\t\t\tgroovy        : [\"Groovy\", \"groovy\"],\r\n\t\t\thtml          : [\"HTML\", \"text/html\"],\r\n\t\t\tjava          : [\"Java\", \"clike\"],\r\n\t\t\tjson          : [\"JSON\", \"text/json\"],\r\n\t\t\tjavascript    : [\"Javascript\", \"javascript\"],\r\n\t\t\tlua           : [\"Lua\", \"lua\"],\r\n\t\t\tless          : [\"LESS\", \"css\"],\r\n\t\t\tmarkdown      : [\"Markdown\", \"gfm\"],\r\n\t\t\t\"objective-c\" : [\"Objective-C\", \"clike\"],\r\n\t\t\tphp           : [\"PHP\", \"php\"],\r\n\t\t\tperl          : [\"Perl\", \"perl\"],\r\n\t\t\tpython        : [\"Python\", \"python\"],\r\n\t\t\tr             : [\"R\", \"r\"],\r\n\t\t\trst           : [\"reStructedText\", \"rst\"],\r\n\t\t\truby          : [\"Ruby\", \"ruby\"],\r\n\t\t\tsql           : [\"SQL\", \"sql\"],\r\n\t\t\tsass          : [\"SASS/SCSS\", \"sass\"],\r\n\t\t\tshell         : [\"Shell\", \"shell\"],\r\n\t\t\tscala         : [\"Scala\", \"clike\"],\r\n\t\t\tswift         : [\"Swift\", \"clike\"],\r\n\t\t\tvb            : [\"VB/VBScript\", \"vb\"],\r\n\t\t\txml           : [\"XML\", \"text/xml\"],\r\n\t\t\tyaml          : [\"YAML\", \"yaml\"]\r\n\t\t};\r\n\r\n\t\texports.fn.codeBlockDialog = function() {\r\n\r\n\t\t\tvar _this       = this;\r\n            var cm          = this.cm;\r\n            var lang        = this.lang;\r\n            var editor      = this.editor;\r\n            var settings    = this.settings;\r\n            var cursor      = cm.getCursor();\r\n            var selection   = cm.getSelection();\r\n            var classPrefix = this.classPrefix;\r\n\t\t\tvar dialogName  = classPrefix + pluginName, dialog;\r\n\t\t\tvar dialogLang  = lang.dialog.codeBlock;\r\n\r\n\t\t\tcm.focus();\r\n\r\n            if (editor.find(\".\" + dialogName).length > 0)\r\n            {\r\n                dialog = editor.find(\".\" + dialogName);\r\n                dialog.find(\"option:first\").attr(\"selected\", \"selected\");\r\n                dialog.find(\"textarea\").val(selection);\r\n\r\n                this.dialogShowMask(dialog);\r\n                this.dialogLockScreen();\r\n                dialog.show();\r\n            }\r\n            else \r\n            {      \r\n                var dialogHTML = \"<div class=\\\"\" + classPrefix + \"code-toolbar\\\">\" +\r\n                                        dialogLang.selectLabel + \"<select><option selected=\\\"selected\\\" value=\\\"\\\">\" + dialogLang.selectDefaultText + \"</option></select>\" +\r\n                                    \"</div>\" +\r\n                                    \"<textarea placeholder=\\\"coding now....\\\" style=\\\"display:none;\\\">\" + selection + \"</textarea>\";\r\n\r\n                dialog = this.createDialog({\r\n                    name   : dialogName,\r\n                    title  : dialogLang.title,\r\n                    width  : 780,\r\n                    height : 565,\r\n                    mask   : settings.dialogShowMask,\r\n                    drag   : settings.dialogDraggable,\r\n                    content    : dialogHTML,\r\n                    lockScreen : settings.dialogLockScreen,\r\n                    maskStyle  : {\r\n                        opacity         : settings.dialogMaskOpacity,\r\n                        backgroundColor : settings.dialogMaskBgColor\r\n                    },\r\n                    buttons : {\r\n                        enter  : [lang.buttons.enter, function() {\r\n                            var codeTexts  = this.find(\"textarea\").val();\r\n                            var langName   = this.find(\"select\").val();\r\n\r\n                            if (langName === \"\")\r\n                            {\r\n                                alert(lang.dialog.codeBlock.unselectedLanguageAlert);\r\n                                return false;\r\n                            }\r\n\r\n                            if (codeTexts === \"\")\r\n                            {\r\n                                alert(lang.dialog.codeBlock.codeEmptyAlert);\r\n                                return false;\r\n                            }\r\n\r\n                            langName = (langName === \"other\") ? \"\" : langName;\r\n\r\n                            cm.replaceSelection([\"```\" + langName, codeTexts, \"```\"].join(\"\\n\"));\r\n\r\n                            if (langName === \"\") {\r\n                                cm.setCursor(cursor.line, cursor.ch + 3);\r\n                            }\r\n\r\n                            this.hide().lockScreen(false).hideMask();\r\n\r\n                            return false;\r\n                        }],\r\n                        cancel : [lang.buttons.cancel, function() {                                   \r\n                            this.hide().lockScreen(false).hideMask();\r\n\r\n                            return false;\r\n                        }]\r\n                    }\r\n                });\r\n            }\r\n\r\n\t\t\tvar langSelect = dialog.find(\"select\");\r\n\r\n\t\t\tif (langSelect.find(\"option\").length === 1) \r\n\t\t\t{\r\n\t\t\t\tfor (var key in codeLanguages)\r\n\t\t\t\t{\r\n\t\t\t\t\tvar codeLang = codeLanguages[key];\r\n\t\t\t\t\tlangSelect.append(\"<option value=\\\"\" + key + \"\\\" mode=\\\"\" + codeLang[1] + \"\\\">\" + codeLang[0] + \"</option>\");\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlangSelect.append(\"<option value=\\\"other\\\">\" + dialogLang.otherLanguage + \"</option>\");\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvar mode   = langSelect.find(\"option:selected\").attr(\"mode\");\r\n\t\t\r\n\t\t\tvar cmConfig = {\r\n\t\t\t\tmode                      : (mode) ? mode : \"text/html\",\r\n\t\t\t\ttheme                     : settings.theme,\r\n\t\t\t\ttabSize                   : 4,\r\n\t\t\t\tautofocus                 : true,\r\n\t\t\t\tautoCloseTags             : true,\r\n\t\t\t\tindentUnit                : 4,\r\n\t\t\t\tlineNumbers               : true,\r\n\t\t\t\tlineWrapping              : true,\r\n\t\t\t\textraKeys                 : {\"Ctrl-Q\": function(cm){ cm.foldCode(cm.getCursor()); }},\r\n\t\t\t\tfoldGutter                : true,\r\n\t\t\t\tgutters                   : [\"CodeMirror-linenumbers\", \"CodeMirror-foldgutter\"],\r\n\t\t\t\tmatchBrackets             : true,\r\n\t\t\t\tindentWithTabs            : true,\r\n\t\t\t\tstyleActiveLine           : true,\r\n\t\t\t\tstyleSelectedText         : true,\r\n\t\t\t\tautoCloseBrackets         : true,\r\n\t\t\t\tshowTrailingSpace         : true,\r\n\t\t\t\thighlightSelectionMatches : true\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\tvar textarea = dialog.find(\"textarea\");\r\n\t\t\tvar cmObj    = dialog.find(\".CodeMirror\");\r\n\r\n\t\t\tif (dialog.find(\".CodeMirror\").length < 1) \r\n\t\t\t{\r\n\t\t\t\tcmEditor = exports.$CodeMirror.fromTextArea(textarea[0], cmConfig);\r\n\t\t\t\tcmObj    = dialog.find(\".CodeMirror\");\r\n\r\n\t\t\t\tcmObj.css({\r\n\t\t\t\t\t\"float\"   : \"none\", \r\n\t\t\t\t\tmargin    : \"8px 0\",\r\n\t\t\t\t\tborder    : \"1px solid #ddd\",\r\n\t\t\t\t\tfontSize  : settings.fontSize,\r\n\t\t\t\t\twidth     : \"100%\",\r\n\t\t\t\t\theight    : \"390px\"\r\n\t\t\t\t});\r\n\r\n\t\t\t\tcmEditor.on(\"change\", function(cm) {\r\n\t\t\t\t\ttextarea.val(cm.getValue());\r\n\t\t\t\t});\r\n\t\t\t} \r\n\t\t\telse \r\n\t\t\t{\r\n\r\n\t\t\t\tcmEditor.setValue(cm.getSelection());\r\n\t\t\t}\r\n\r\n\t\t\tlangSelect.change(function(){\r\n\t\t\t\tvar _mode = $(this).find(\"option:selected\").attr(\"mode\");\r\n\t\t\t\tcmEditor.setOption(\"mode\", _mode);\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t};\r\n    \r\n\t// CommonJS/Node.js\r\n\tif (typeof require === \"function\" && typeof exports === \"object\" && typeof module === \"object\")\r\n    { \r\n        module.exports = factory;\r\n    }\r\n\telse if (typeof define === \"function\")  // AMD/CMD/Sea.js\r\n    {\r\n\t\tif (define.amd) { // for Require.js\r\n\r\n\t\t\tdefine([\"editormd\"], function(editormd) {\r\n                factory(editormd);\r\n            });\r\n\r\n\t\t} else { // for Sea.js\r\n\t\t\tdefine(function(require) {\r\n                var editormd = require(\"./../../editormd\");\r\n                factory(editormd);\r\n            });\r\n\t\t}\r\n\t} \r\n\telse\r\n\t{\r\n        factory(window.editormd);\r\n\t}\r\n\r\n})();\r\n"]}