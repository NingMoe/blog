{"version":3,"sources":["../../../../../../../../../app/public/js/marked/lib/codemirror/addon/search/search.js"],"names":["mod","exports","module","require","define","amd","CodeMirror","searchOverlay","query","caseInsensitive","RegExp","replace","global","source","ignoreCase","token","stream","lastIndex","pos","match","exec","string","index","length","skipToEnd","SearchState","posFrom","posTo","overlay","getSearchState","cm","state","search","queryCaseInsensitive","toLowerCase","getSearchCursor","dialog","text","shortText","deflt","f","openDialog","value","prompt","confirmDialog","fs","openConfirm","confirm","parseQuery","isRE","indexOf","e","test","queryDialog","doSearch","rev","findNext","getSelection","operation","removeOverlay","addOverlay","showMatchesOnScrollbar","annotate","clear","getCursor","cursor","find","Pos","lastLine","firstLine","setSelection","from","to","scrollIntoView","clearSearch","replaceQueryDialog","replacementQueryDialog","doReplaceConfirm","all","getOption","getRange","_","i","advance","start","line","ch","doReplace","commands","findPrev","replaceAll"],"mappings":"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","file":"search.js","sourcesContent":["// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n// Define search commands. Depends on dialog.js or another\n// implementation of the openDialog method.\n\n// Replace works a little oddly -- it will do the replace on the next\n// Ctrl-G (or whatever is bound to findNext) press. You prevent a\n// replace by making sure the match is no longer selected when hitting\n// Ctrl-G.\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"./searchcursor\"), require(\"../dialog/dialog\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"./searchcursor\", \"../dialog/dialog\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n  function searchOverlay(query, caseInsensitive) {\n    if (typeof query == \"string\")\n      query = new RegExp(query.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\"), caseInsensitive ? \"gi\" : \"g\");\n    else if (!query.global)\n      query = new RegExp(query.source, query.ignoreCase ? \"gi\" : \"g\");\n\n    return {token: function(stream) {\n      query.lastIndex = stream.pos;\n      var match = query.exec(stream.string);\n      if (match && match.index == stream.pos) {\n        stream.pos += match[0].length;\n        return \"searching\";\n      } else if (match) {\n        stream.pos = match.index;\n      } else {\n        stream.skipToEnd();\n      }\n    }};\n  }\n\n  function SearchState() {\n    this.posFrom = this.posTo = this.query = null;\n    this.overlay = null;\n  }\n  function getSearchState(cm) {\n    return cm.state.search || (cm.state.search = new SearchState());\n  }\n  function queryCaseInsensitive(query) {\n    return typeof query == \"string\" && query == query.toLowerCase();\n  }\n  function getSearchCursor(cm, query, pos) {\n    // Heuristic: if the query string is all lowercase, do a case insensitive search.\n    return cm.getSearchCursor(query, pos, queryCaseInsensitive(query));\n  }\n  function dialog(cm, text, shortText, deflt, f) {\n    if (cm.openDialog) cm.openDialog(text, f, {value: deflt});\n    else f(prompt(shortText, deflt));\n  }\n  function confirmDialog(cm, text, shortText, fs) {\n    if (cm.openConfirm) cm.openConfirm(text, fs);\n    else if (confirm(shortText)) fs[0]();\n  }\n  function parseQuery(query) {\n    var isRE = query.match(/^\\/(.*)\\/([a-z]*)$/);\n    if (isRE) {\n      try { query = new RegExp(isRE[1], isRE[2].indexOf(\"i\") == -1 ? \"\" : \"i\"); }\n      catch(e) {} // Not a regular expression after all, do a string search\n    }\n    if (typeof query == \"string\" ? query == \"\" : query.test(\"\"))\n      query = /x^/;\n    return query;\n  }\n  var queryDialog =\n    'Search: <input type=\"text\" style=\"width: 10em\" class=\"CodeMirror-search-field\"/> <span style=\"color: #888\" class=\"CodeMirror-search-hint\">(Use /re/ syntax for regexp search)</span>';\n  function doSearch(cm, rev) {\n    var state = getSearchState(cm);\n    if (state.query) return findNext(cm, rev);\n    dialog(cm, queryDialog, \"Search for:\", cm.getSelection(), function(query) {\n      cm.operation(function() {\n        if (!query || state.query) return;\n        state.query = parseQuery(query);\n        cm.removeOverlay(state.overlay, queryCaseInsensitive(state.query));\n        state.overlay = searchOverlay(state.query, queryCaseInsensitive(state.query));\n        cm.addOverlay(state.overlay);\n        if (cm.showMatchesOnScrollbar) {\n          if (state.annotate) { state.annotate.clear(); state.annotate = null; }\n          state.annotate = cm.showMatchesOnScrollbar(state.query, queryCaseInsensitive(state.query));\n        }\n        state.posFrom = state.posTo = cm.getCursor();\n        findNext(cm, rev);\n      });\n    });\n  }\n  function findNext(cm, rev) {cm.operation(function() {\n    var state = getSearchState(cm);\n    var cursor = getSearchCursor(cm, state.query, rev ? state.posFrom : state.posTo);\n    if (!cursor.find(rev)) {\n      cursor = getSearchCursor(cm, state.query, rev ? CodeMirror.Pos(cm.lastLine()) : CodeMirror.Pos(cm.firstLine(), 0));\n      if (!cursor.find(rev)) return;\n    }\n    cm.setSelection(cursor.from(), cursor.to());\n    cm.scrollIntoView({from: cursor.from(), to: cursor.to()});\n    state.posFrom = cursor.from(); state.posTo = cursor.to();\n  });}\n  function clearSearch(cm) {cm.operation(function() {\n    var state = getSearchState(cm);\n    if (!state.query) return;\n    state.query = null;\n    cm.removeOverlay(state.overlay);\n    if (state.annotate) { state.annotate.clear(); state.annotate = null; }\n  });}\n\n  var replaceQueryDialog =\n    'Replace: <input type=\"text\" style=\"width: 10em\" class=\"CodeMirror-search-field\"/> <span style=\"color: #888\" class=\"CodeMirror-search-hint\">(Use /re/ syntax for regexp search)</span>';\n  var replacementQueryDialog = 'With: <input type=\"text\" style=\"width: 10em\" class=\"CodeMirror-search-field\"/>';\n  var doReplaceConfirm = \"Replace? <button>Yes</button> <button>No</button> <button>Stop</button>\";\n  function replace(cm, all) {\n    if (cm.getOption(\"readOnly\")) return;\n    dialog(cm, replaceQueryDialog, \"Replace:\", cm.getSelection(), function(query) {\n      if (!query) return;\n      query = parseQuery(query);\n      dialog(cm, replacementQueryDialog, \"Replace with:\", \"\", function(text) {\n        if (all) {\n          cm.operation(function() {\n            for (var cursor = getSearchCursor(cm, query); cursor.findNext();) {\n              if (typeof query != \"string\") {\n                var match = cm.getRange(cursor.from(), cursor.to()).match(query);\n                cursor.replace(text.replace(/\\$(\\d)/g, function(_, i) {return match[i];}));\n              } else cursor.replace(text);\n            }\n          });\n        } else {\n          clearSearch(cm);\n          var cursor = getSearchCursor(cm, query, cm.getCursor());\n          var advance = function() {\n            var start = cursor.from(), match;\n            if (!(match = cursor.findNext())) {\n              cursor = getSearchCursor(cm, query);\n              if (!(match = cursor.findNext()) ||\n                  (start && cursor.from().line == start.line && cursor.from().ch == start.ch)) return;\n            }\n            cm.setSelection(cursor.from(), cursor.to());\n            cm.scrollIntoView({from: cursor.from(), to: cursor.to()});\n            confirmDialog(cm, doReplaceConfirm, \"Replace?\",\n                          [function() {doReplace(match);}, advance]);\n          };\n          var doReplace = function(match) {\n            cursor.replace(typeof query == \"string\" ? text :\n                           text.replace(/\\$(\\d)/g, function(_, i) {return match[i];}));\n            advance();\n          };\n          advance();\n        }\n      });\n    });\n  }\n\n  CodeMirror.commands.find = function(cm) {clearSearch(cm); doSearch(cm);};\n  CodeMirror.commands.findNext = doSearch;\n  CodeMirror.commands.findPrev = function(cm) {doSearch(cm, true);};\n  CodeMirror.commands.clearSearch = clearSearch;\n  CodeMirror.commands.replace = replace;\n  CodeMirror.commands.replaceAll = function(cm) {replace(cm, true);};\n});\n"]}