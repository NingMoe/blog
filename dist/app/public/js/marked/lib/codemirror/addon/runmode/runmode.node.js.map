{"version":3,"sources":["../../../../../../../../../app/public/js/marked/lib/codemirror/addon/runmode/runmode.node.js"],"names":["splitLines","string","split","StringStream","pos","start","lineStart","prototype","eol","length","sol","peek","charAt","next","eat","match","ch","ok","test","eatWhile","eatSpace","skipToEnd","skipTo","found","indexOf","backUp","n","column","indentation","pattern","consume","caseInsensitive","cased","str","toLowerCase","substr","slice","index","current","hideFirstChars","inner","exports","startState","mode","a1","a2","modes","mimeModes","defineMode","name","arguments","dependencies","Array","call","defineMIME","mime","spec","token","stream","resolveMode","hasOwnProperty","getMode","options","mfactory","Error","registerHelper","registerGlobalHelper","Math","min","runMode","modespec","callback","indentUnit","lines","state","i","e","blankLine","style","require","cache","resolve"],"mappings":"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","file":"runmode.node.js","sourcesContent":["// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n/* Just enough of CodeMirror to run runMode under node.js */\n\n// declare global: StringStream\n\nfunction splitLines(string){ return string.split(/\\r?\\n|\\r/); };\n\nfunction StringStream(string) {\n  this.pos = this.start = 0;\n  this.string = string;\n  this.lineStart = 0;\n}\nStringStream.prototype = {\n  eol: function() {return this.pos >= this.string.length;},\n  sol: function() {return this.pos == 0;},\n  peek: function() {return this.string.charAt(this.pos) || null;},\n  next: function() {\n    if (this.pos < this.string.length)\n      return this.string.charAt(this.pos++);\n  },\n  eat: function(match) {\n    var ch = this.string.charAt(this.pos);\n    if (typeof match == \"string\") var ok = ch == match;\n    else var ok = ch && (match.test ? match.test(ch) : match(ch));\n    if (ok) {++this.pos; return ch;}\n  },\n  eatWhile: function(match) {\n    var start = this.pos;\n    while (this.eat(match)){}\n    return this.pos > start;\n  },\n  eatSpace: function() {\n    var start = this.pos;\n    while (/[\\s\\u00a0]/.test(this.string.charAt(this.pos))) ++this.pos;\n    return this.pos > start;\n  },\n  skipToEnd: function() {this.pos = this.string.length;},\n  skipTo: function(ch) {\n    var found = this.string.indexOf(ch, this.pos);\n    if (found > -1) {this.pos = found; return true;}\n  },\n  backUp: function(n) {this.pos -= n;},\n  column: function() {return this.start - this.lineStart;},\n  indentation: function() {return 0;},\n  match: function(pattern, consume, caseInsensitive) {\n    if (typeof pattern == \"string\") {\n      var cased = function(str) {return caseInsensitive ? str.toLowerCase() : str;};\n      var substr = this.string.substr(this.pos, pattern.length);\n      if (cased(substr) == cased(pattern)) {\n        if (consume !== false) this.pos += pattern.length;\n        return true;\n      }\n    } else {\n      var match = this.string.slice(this.pos).match(pattern);\n      if (match && match.index > 0) return null;\n      if (match && consume !== false) this.pos += match[0].length;\n      return match;\n    }\n  },\n  current: function(){return this.string.slice(this.start, this.pos);},\n  hideFirstChars: function(n, inner) {\n    this.lineStart += n;\n    try { return inner(); }\n    finally { this.lineStart -= n; }\n  }\n};\nexports.StringStream = StringStream;\n\nexports.startState = function(mode, a1, a2) {\n  return mode.startState ? mode.startState(a1, a2) : true;\n};\n\nvar modes = exports.modes = {}, mimeModes = exports.mimeModes = {};\nexports.defineMode = function(name, mode) {\n  if (arguments.length > 2)\n    mode.dependencies = Array.prototype.slice.call(arguments, 2);\n  modes[name] = mode;\n};\nexports.defineMIME = function(mime, spec) { mimeModes[mime] = spec; };\n\nexports.defineMode(\"null\", function() {\n  return {token: function(stream) {stream.skipToEnd();}};\n});\nexports.defineMIME(\"text/plain\", \"null\");\n\nexports.resolveMode = function(spec) {\n  if (typeof spec == \"string\" && mimeModes.hasOwnProperty(spec)) {\n    spec = mimeModes[spec];\n  } else if (spec && typeof spec.name == \"string\" && mimeModes.hasOwnProperty(spec.name)) {\n    spec = mimeModes[spec.name];\n  }\n  if (typeof spec == \"string\") return {name: spec};\n  else return spec || {name: \"null\"};\n};\nexports.getMode = function(options, spec) {\n  spec = exports.resolveMode(spec);\n  var mfactory = modes[spec.name];\n  if (!mfactory) throw new Error(\"Unknown mode: \" + spec);\n  return mfactory(options, spec);\n};\nexports.registerHelper = exports.registerGlobalHelper = Math.min;\n\nexports.runMode = function(string, modespec, callback, options) {\n  var mode = exports.getMode({indentUnit: 2}, modespec);\n  var lines = splitLines(string), state = (options && options.state) || exports.startState(mode);\n  for (var i = 0, e = lines.length; i < e; ++i) {\n    if (i) callback(\"\\n\");\n    var stream = new exports.StringStream(lines[i]);\n    if (!stream.string && mode.blankLine) mode.blankLine(state);\n    while (!stream.eol()) {\n      var style = mode.token(stream, state);\n      callback(stream.current(), style, i, stream.start, state);\n      stream.start = stream.pos;\n    }\n  }\n};\n\nrequire.cache[require.resolve(\"../../lib/codemirror\")] = require.cache[require.resolve(\"./runmode.node\")];\n"]}