{"version":3,"sources":["../../../../../../../../../app/public/js/marked/lib/codemirror/addon/scroll/simplescrollbars.js"],"names":["mod","exports","module","require","define","amd","CodeMirror","Bar","cls","orientation","scroll","screen","total","size","pos","node","document","createElement","className","inner","appendChild","self","on","e","which","e_preventDefault","axis","start","startpos","done","off","move","moveTo","innerBox","getBoundingClientRect","where","clientX","left","right","clientY","top","bottom","onWheel","moved","wheelEventPixels","oldPos","prototype","update","style","scrollSize","clientSize","barSize","SimpleScrollbars","place","addClass","horiz","vert","width","measure","window","getComputedStyle","currentStyle","parseInt","height","needsH","scrollWidth","clientWidth","needsV","scrollHeight","clientHeight","display","viewHeight","viewWidth","barLeft","setScrollTop","setScrollLeft","clear","parent","parentNode","removeChild","scrollbarModel","simple","overlay"],"mappings":";;;;AAAA;AACA;;AAEA,CAAC,UAASA,GAAT,EAAc;AACb,MAAI,QAAOC,OAAP,yCAAOA,OAAP,MAAkB,QAAlB,IAA8B,QAAOC,MAAP,yCAAOA,MAAP,MAAiB,QAAnD,EAA6D;AAC3DF,QAAIG,QAAQ,sBAAR,CAAJ,EADF,KAEK,IAAI,OAAOC,MAAP,IAAiB,UAAjB,IAA+BA,OAAOC,GAA1C,EAA+C;AAClDD,WAAO,CAAC,sBAAD,CAAP,EAAiCJ,GAAjC,EADG,KAEA;AACHA,QAAIM,UAAJ;AACH,CAPD,EAOG,UAASA,UAAT,EAAqB;AACtB;;AAEA,WAASC,GAAT,CAAaC,GAAb,EAAkBC,WAAlB,EAA+BC,MAA/B,EAAuC;AACrC,SAAKD,WAAL,GAAmBA,WAAnB;AACA,SAAKC,MAAL,GAAcA,MAAd;AACA,SAAKC,MAAL,GAAc,KAAKC,KAAL,GAAa,KAAKC,IAAL,GAAY,CAAvC;AACA,SAAKC,GAAL,GAAW,CAAX;;AAEA,SAAKC,IAAL,GAAYC,SAASC,aAAT,CAAuB,KAAvB,CAAZ;AACA,SAAKF,IAAL,CAAUG,SAAV,GAAsBV,MAAM,GAAN,GAAYC,WAAlC;AACA,SAAKU,KAAL,GAAa,KAAKJ,IAAL,CAAUK,WAAV,CAAsBJ,SAASC,aAAT,CAAuB,KAAvB,CAAtB,CAAb;;AAEA,QAAII,OAAO,IAAX;AACAf,eAAWgB,EAAX,CAAc,KAAKH,KAAnB,EAA0B,WAA1B,EAAuC,UAASI,CAAT,EAAY;AACjD,UAAIA,EAAEC,KAAF,IAAW,CAAf,EAAkB;AAClBlB,iBAAWmB,gBAAX,CAA4BF,CAA5B;AACA,UAAIG,OAAOL,KAAKZ,WAAL,IAAoB,YAApB,GAAmC,OAAnC,GAA6C,OAAxD;AACA,UAAIkB,QAAQJ,EAAEG,IAAF,CAAZ;AAAA,UAAqBE,WAAWP,KAAKP,GAArC;AACA,eAASe,IAAT,GAAgB;AACdvB,mBAAWwB,GAAX,CAAed,QAAf,EAAyB,WAAzB,EAAsCe,IAAtC;AACAzB,mBAAWwB,GAAX,CAAed,QAAf,EAAyB,SAAzB,EAAoCa,IAApC;AACD;AACD,eAASE,IAAT,CAAcR,CAAd,EAAiB;AACf,YAAIA,EAAEC,KAAF,IAAW,CAAf,EAAkB,OAAOK,MAAP;AAClBR,aAAKW,MAAL,CAAYJ,WAAW,CAACL,EAAEG,IAAF,IAAUC,KAAX,KAAqBN,KAAKT,KAAL,GAAaS,KAAKR,IAAvC,CAAvB;AACD;AACDP,iBAAWgB,EAAX,CAAcN,QAAd,EAAwB,WAAxB,EAAqCe,IAArC;AACAzB,iBAAWgB,EAAX,CAAcN,QAAd,EAAwB,SAAxB,EAAmCa,IAAnC;AACD,KAfD;;AAiBAvB,eAAWgB,EAAX,CAAc,KAAKP,IAAnB,EAAyB,OAAzB,EAAkC,UAASQ,CAAT,EAAY;AAC5CjB,iBAAWmB,gBAAX,CAA4BF,CAA5B;AACA,UAAIU,WAAWZ,KAAKF,KAAL,CAAWe,qBAAX,EAAf;AAAA,UAAmDC,KAAnD;AACA,UAAId,KAAKZ,WAAL,IAAoB,YAAxB,EACE0B,QAAQZ,EAAEa,OAAF,GAAYH,SAASI,IAArB,GAA4B,CAAC,CAA7B,GAAiCd,EAAEa,OAAF,GAAYH,SAASK,KAArB,GAA6B,CAA7B,GAAiC,CAA1E,CADF,KAGEH,QAAQZ,EAAEgB,OAAF,GAAYN,SAASO,GAArB,GAA2B,CAAC,CAA5B,GAAgCjB,EAAEgB,OAAF,GAAYN,SAASQ,MAArB,GAA8B,CAA9B,GAAkC,CAA1E;AACFpB,WAAKW,MAAL,CAAYX,KAAKP,GAAL,GAAWqB,QAAQd,KAAKV,MAApC;AACD,KARD;;AAUA,aAAS+B,OAAT,CAAiBnB,CAAjB,EAAoB;AAClB,UAAIoB,QAAQrC,WAAWsC,gBAAX,CAA4BrB,CAA5B,EAA+BF,KAAKZ,WAAL,IAAoB,YAApB,GAAmC,GAAnC,GAAyC,GAAxE,CAAZ;AACA,UAAIoC,SAASxB,KAAKP,GAAlB;AACAO,WAAKW,MAAL,CAAYX,KAAKP,GAAL,GAAW6B,KAAvB;AACA,UAAItB,KAAKP,GAAL,IAAY+B,MAAhB,EAAwBvC,WAAWmB,gBAAX,CAA4BF,CAA5B;AACzB;AACDjB,eAAWgB,EAAX,CAAc,KAAKP,IAAnB,EAAyB,YAAzB,EAAuC2B,OAAvC;AACApC,eAAWgB,EAAX,CAAc,KAAKP,IAAnB,EAAyB,gBAAzB,EAA2C2B,OAA3C;AACD;;AAEDnC,MAAIuC,SAAJ,CAAcd,MAAd,GAAuB,UAASlB,GAAT,EAAciC,MAAd,EAAsB;AAC3C,QAAIjC,MAAM,CAAV,EAAaA,MAAM,CAAN;AACb,QAAIA,MAAM,KAAKF,KAAL,GAAa,KAAKD,MAA5B,EAAoCG,MAAM,KAAKF,KAAL,GAAa,KAAKD,MAAxB;AACpC,QAAIG,OAAO,KAAKA,GAAhB,EAAqB;AACrB,SAAKA,GAAL,GAAWA,GAAX;AACA,SAAKK,KAAL,CAAW6B,KAAX,CAAiB,KAAKvC,WAAL,IAAoB,YAApB,GAAmC,MAAnC,GAA4C,KAA7D,IACGK,OAAO,KAAKD,IAAL,GAAY,KAAKD,KAAxB,CAAD,GAAmC,IADrC;AAEA,QAAImC,WAAW,KAAf,EAAsB,KAAKrC,MAAL,CAAYI,GAAZ,EAAiB,KAAKL,WAAtB;AACvB,GARD;;AAUAF,MAAIuC,SAAJ,CAAcC,MAAd,GAAuB,UAASE,UAAT,EAAqBC,UAArB,EAAiCC,OAAjC,EAA0C;AAC/D,SAAKxC,MAAL,GAAcuC,UAAd;AACA,SAAKtC,KAAL,GAAaqC,UAAb;AACA,SAAKpC,IAAL,GAAYsC,OAAZ;;AAEA;AACA,SAAKhC,KAAL,CAAW6B,KAAX,CAAiB,KAAKvC,WAAL,IAAoB,YAApB,GAAmC,OAAnC,GAA6C,QAA9D,IACE,KAAKE,MAAL,IAAe,KAAKE,IAAL,GAAY,KAAKD,KAAhC,IAAyC,IAD3C;AAEA,SAAKO,KAAL,CAAW6B,KAAX,CAAiB,KAAKvC,WAAL,IAAoB,YAApB,GAAmC,MAAnC,GAA4C,KAA7D,IACE,KAAKK,GAAL,IAAY,KAAKD,IAAL,GAAY,KAAKD,KAA7B,IAAsC,IADxC;AAED,GAVD;;AAYA,WAASwC,gBAAT,CAA0B5C,GAA1B,EAA+B6C,KAA/B,EAAsC3C,MAAtC,EAA8C;AAC5C,SAAK4C,QAAL,GAAgB9C,GAAhB;AACA,SAAK+C,KAAL,GAAa,IAAIhD,GAAJ,CAAQC,GAAR,EAAa,YAAb,EAA2BE,MAA3B,CAAb;AACA2C,UAAM,KAAKE,KAAL,CAAWxC,IAAjB;AACA,SAAKyC,IAAL,GAAY,IAAIjD,GAAJ,CAAQC,GAAR,EAAa,UAAb,EAAyBE,MAAzB,CAAZ;AACA2C,UAAM,KAAKG,IAAL,CAAUzC,IAAhB;AACA,SAAK0C,KAAL,GAAa,IAAb;AACD;;AAEDL,mBAAiBN,SAAjB,CAA2BC,MAA3B,GAAoC,UAASW,OAAT,EAAkB;AACpD,QAAI,KAAKD,KAAL,IAAc,IAAlB,EAAwB;AACtB,UAAIT,QAAQW,OAAOC,gBAAP,GAA0BD,OAAOC,gBAAP,CAAwB,KAAKL,KAAL,CAAWxC,IAAnC,CAA1B,GAAqE,KAAKwC,KAAL,CAAWxC,IAAX,CAAgB8C,YAAjG;AACA,UAAIb,KAAJ,EAAW,KAAKS,KAAL,GAAaK,SAASd,MAAMe,MAAf,CAAb;AACZ;AACD,QAAIN,QAAQ,KAAKA,KAAL,IAAc,CAA1B;;AAEA,QAAIO,SAASN,QAAQO,WAAR,GAAsBP,QAAQQ,WAAR,GAAsB,CAAzD;AACA,QAAIC,SAAST,QAAQU,YAAR,GAAuBV,QAAQW,YAAR,GAAuB,CAA3D;AACA,SAAKb,IAAL,CAAUzC,IAAV,CAAeiC,KAAf,CAAqBsB,OAArB,GAA+BH,SAAS,OAAT,GAAmB,MAAlD;AACA,SAAKZ,KAAL,CAAWxC,IAAX,CAAgBiC,KAAhB,CAAsBsB,OAAtB,GAAgCN,SAAS,OAAT,GAAmB,MAAnD;;AAEA,QAAIG,MAAJ,EAAY;AACV,WAAKX,IAAL,CAAUT,MAAV,CAAiBW,QAAQU,YAAzB,EAAuCV,QAAQW,YAA/C,EACiBX,QAAQa,UAAR,IAAsBP,SAASP,KAAT,GAAiB,CAAvC,CADjB;AAEA,WAAKD,IAAL,CAAUzC,IAAV,CAAeiC,KAAf,CAAqBsB,OAArB,GAA+B,OAA/B;AACA,WAAKd,IAAL,CAAUzC,IAAV,CAAeiC,KAAf,CAAqBP,MAArB,GAA8BuB,SAASP,QAAQ,IAAjB,GAAwB,GAAtD;AACD;AACD,QAAIO,MAAJ,EAAY;AACV,WAAKT,KAAL,CAAWR,MAAX,CAAkBW,QAAQO,WAA1B,EAAuCP,QAAQQ,WAA/C,EACkBR,QAAQc,SAAR,IAAqBL,SAASV,KAAT,GAAiB,CAAtC,IAA2CC,QAAQe,OADrE;AAEA,WAAKlB,KAAL,CAAWxC,IAAX,CAAgBiC,KAAhB,CAAsBV,KAAtB,GAA8B6B,SAASV,QAAQ,IAAjB,GAAwB,GAAtD;AACA,WAAKF,KAAL,CAAWxC,IAAX,CAAgBiC,KAAhB,CAAsBX,IAAtB,GAA6BqB,QAAQe,OAAR,GAAkB,IAA/C;AACD;;AAED,WAAO,EAACnC,OAAO6B,SAASV,KAAT,GAAiB,CAAzB,EAA4BhB,QAAQuB,SAASP,KAAT,GAAiB,CAArD,EAAP;AACD,GA1BD;;AA4BAL,mBAAiBN,SAAjB,CAA2B4B,YAA3B,GAA0C,UAAS5D,GAAT,EAAc;AACtD,SAAK0C,IAAL,CAAUxB,MAAV,CAAiBlB,GAAjB,EAAsB,KAAtB;AACD,GAFD;;AAIAsC,mBAAiBN,SAAjB,CAA2B6B,aAA3B,GAA2C,UAAS7D,GAAT,EAAc;AACvD,SAAKyC,KAAL,CAAWvB,MAAX,CAAkBlB,GAAlB,EAAuB,KAAvB;AACD,GAFD;;AAIAsC,mBAAiBN,SAAjB,CAA2B8B,KAA3B,GAAmC,YAAW;AAC5C,QAAIC,SAAS,KAAKtB,KAAL,CAAWxC,IAAX,CAAgB+D,UAA7B;AACAD,WAAOE,WAAP,CAAmB,KAAKxB,KAAL,CAAWxC,IAA9B;AACA8D,WAAOE,WAAP,CAAmB,KAAKvB,IAAL,CAAUzC,IAA7B;AACD,GAJD;;AAMAT,aAAW0E,cAAX,CAA0BC,MAA1B,GAAmC,UAAS5B,KAAT,EAAgB3C,MAAhB,EAAwB;AACzD,WAAO,IAAI0C,gBAAJ,CAAqB,yBAArB,EAAgDC,KAAhD,EAAuD3C,MAAvD,CAAP;AACD,GAFD;AAGAJ,aAAW0E,cAAX,CAA0BE,OAA1B,GAAoC,UAAS7B,KAAT,EAAgB3C,MAAhB,EAAwB;AAC1D,WAAO,IAAI0C,gBAAJ,CAAqB,0BAArB,EAAiDC,KAAjD,EAAwD3C,MAAxD,CAAP;AACD,GAFD;AAGD,CAzID","file":"simplescrollbars.js","sourcesContent":["// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  function Bar(cls, orientation, scroll) {\n    this.orientation = orientation;\n    this.scroll = scroll;\n    this.screen = this.total = this.size = 1;\n    this.pos = 0;\n\n    this.node = document.createElement(\"div\");\n    this.node.className = cls + \"-\" + orientation;\n    this.inner = this.node.appendChild(document.createElement(\"div\"));\n\n    var self = this;\n    CodeMirror.on(this.inner, \"mousedown\", function(e) {\n      if (e.which != 1) return;\n      CodeMirror.e_preventDefault(e);\n      var axis = self.orientation == \"horizontal\" ? \"pageX\" : \"pageY\";\n      var start = e[axis], startpos = self.pos;\n      function done() {\n        CodeMirror.off(document, \"mousemove\", move);\n        CodeMirror.off(document, \"mouseup\", done);\n      }\n      function move(e) {\n        if (e.which != 1) return done();\n        self.moveTo(startpos + (e[axis] - start) * (self.total / self.size));\n      }\n      CodeMirror.on(document, \"mousemove\", move);\n      CodeMirror.on(document, \"mouseup\", done);\n    });\n\n    CodeMirror.on(this.node, \"click\", function(e) {\n      CodeMirror.e_preventDefault(e);\n      var innerBox = self.inner.getBoundingClientRect(), where;\n      if (self.orientation == \"horizontal\")\n        where = e.clientX < innerBox.left ? -1 : e.clientX > innerBox.right ? 1 : 0;\n      else\n        where = e.clientY < innerBox.top ? -1 : e.clientY > innerBox.bottom ? 1 : 0;\n      self.moveTo(self.pos + where * self.screen);\n    });\n\n    function onWheel(e) {\n      var moved = CodeMirror.wheelEventPixels(e)[self.orientation == \"horizontal\" ? \"x\" : \"y\"];\n      var oldPos = self.pos;\n      self.moveTo(self.pos + moved);\n      if (self.pos != oldPos) CodeMirror.e_preventDefault(e);\n    }\n    CodeMirror.on(this.node, \"mousewheel\", onWheel);\n    CodeMirror.on(this.node, \"DOMMouseScroll\", onWheel);\n  }\n\n  Bar.prototype.moveTo = function(pos, update) {\n    if (pos < 0) pos = 0;\n    if (pos > this.total - this.screen) pos = this.total - this.screen;\n    if (pos == this.pos) return;\n    this.pos = pos;\n    this.inner.style[this.orientation == \"horizontal\" ? \"left\" : \"top\"] =\n      (pos * (this.size / this.total)) + \"px\";\n    if (update !== false) this.scroll(pos, this.orientation);\n  };\n\n  Bar.prototype.update = function(scrollSize, clientSize, barSize) {\n    this.screen = clientSize;\n    this.total = scrollSize;\n    this.size = barSize;\n\n    // FIXME clip to min size?\n    this.inner.style[this.orientation == \"horizontal\" ? \"width\" : \"height\"] =\n      this.screen * (this.size / this.total) + \"px\";\n    this.inner.style[this.orientation == \"horizontal\" ? \"left\" : \"top\"] =\n      this.pos * (this.size / this.total) + \"px\";\n  };\n\n  function SimpleScrollbars(cls, place, scroll) {\n    this.addClass = cls;\n    this.horiz = new Bar(cls, \"horizontal\", scroll);\n    place(this.horiz.node);\n    this.vert = new Bar(cls, \"vertical\", scroll);\n    place(this.vert.node);\n    this.width = null;\n  }\n\n  SimpleScrollbars.prototype.update = function(measure) {\n    if (this.width == null) {\n      var style = window.getComputedStyle ? window.getComputedStyle(this.horiz.node) : this.horiz.node.currentStyle;\n      if (style) this.width = parseInt(style.height);\n    }\n    var width = this.width || 0;\n\n    var needsH = measure.scrollWidth > measure.clientWidth + 1;\n    var needsV = measure.scrollHeight > measure.clientHeight + 1;\n    this.vert.node.style.display = needsV ? \"block\" : \"none\";\n    this.horiz.node.style.display = needsH ? \"block\" : \"none\";\n\n    if (needsV) {\n      this.vert.update(measure.scrollHeight, measure.clientHeight,\n                       measure.viewHeight - (needsH ? width : 0));\n      this.vert.node.style.display = \"block\";\n      this.vert.node.style.bottom = needsH ? width + \"px\" : \"0\";\n    }\n    if (needsH) {\n      this.horiz.update(measure.scrollWidth, measure.clientWidth,\n                        measure.viewWidth - (needsV ? width : 0) - measure.barLeft);\n      this.horiz.node.style.right = needsV ? width + \"px\" : \"0\";\n      this.horiz.node.style.left = measure.barLeft + \"px\";\n    }\n\n    return {right: needsV ? width : 0, bottom: needsH ? width : 0};\n  };\n\n  SimpleScrollbars.prototype.setScrollTop = function(pos) {\n    this.vert.moveTo(pos, false);\n  };\n\n  SimpleScrollbars.prototype.setScrollLeft = function(pos) {\n    this.horiz.moveTo(pos, false);\n  };\n\n  SimpleScrollbars.prototype.clear = function() {\n    var parent = this.horiz.node.parentNode;\n    parent.removeChild(this.horiz.node);\n    parent.removeChild(this.vert.node);\n  };\n\n  CodeMirror.scrollbarModel.simple = function(place, scroll) {\n    return new SimpleScrollbars(\"CodeMirror-simplescroll\", place, scroll);\n  };\n  CodeMirror.scrollbarModel.overlay = function(place, scroll) {\n    return new SimpleScrollbars(\"CodeMirror-overlayscroll\", place, scroll);\n  };\n});\n"]}