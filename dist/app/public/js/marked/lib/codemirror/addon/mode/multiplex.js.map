{"version":3,"sources":["../../../../../../../../../app/public/js/marked/lib/codemirror/addon/mode/multiplex.js"],"names":["mod","exports","module","require","define","amd","CodeMirror","multiplexingMode","outer","others","Array","prototype","slice","call","arguments","n_others","length","indexOf","string","pattern","from","m","exec","index","startState","innerActive","inner","copyState","state","mode","token","stream","cutOff","Infinity","oldContent","i","other","found","open","pos","match","indent","delimStyle","outerToken","curInner","close","sol","innerToken","innerStyle","textAfter","Pass","blankLine","electricChars","innerMode"],"mappings":";;;;AAAA;AACA;;AAEA,CAAC,UAASA,GAAT,EAAc;AACb,MAAI,QAAOC,OAAP,yCAAOA,OAAP,MAAkB,QAAlB,IAA8B,QAAOC,MAAP,yCAAOA,MAAP,MAAiB,QAAnD,EAA6D;AAC3DF,QAAIG,QAAQ,sBAAR,CAAJ,EADF,KAEK,IAAI,OAAOC,MAAP,IAAiB,UAAjB,IAA+BA,OAAOC,GAA1C,EAA+C;AAClDD,WAAO,CAAC,sBAAD,CAAP,EAAiCJ,GAAjC,EADG,KAEA;AACHA,QAAIM,UAAJ;AACH,CAPD,EAOG,UAASA,UAAT,EAAqB;AACxB;;AAEAA,aAAWC,gBAAX,GAA8B,UAASC,KAAT,CAAe,aAAf,EAA8B;AAC1D;AACA,QAAIC,SAASC,MAAMC,SAAN,CAAgBC,KAAhB,CAAsBC,IAAtB,CAA2BC,SAA3B,EAAsC,CAAtC,CAAb;AACA,QAAIC,WAAWN,OAAOO,MAAtB;;AAEA,aAASC,OAAT,CAAiBC,MAAjB,EAAyBC,OAAzB,EAAkCC,IAAlC,EAAwC;AACtC,UAAI,OAAOD,OAAP,IAAkB,QAAtB,EAAgC,OAAOD,OAAOD,OAAP,CAAeE,OAAf,EAAwBC,IAAxB,CAAP;AAChC,UAAIC,IAAIF,QAAQG,IAAR,CAAaF,OAAOF,OAAON,KAAP,CAAaQ,IAAb,CAAP,GAA4BF,MAAzC,CAAR;AACA,aAAOG,IAAIA,EAAEE,KAAF,GAAUH,IAAd,GAAqB,CAAC,CAA7B;AACD;;AAED,WAAO;AACLI,kBAAY,sBAAW;AACrB,eAAO;AACLhB,iBAAOF,WAAWkB,UAAX,CAAsBhB,KAAtB,CADF;AAELiB,uBAAa,IAFR;AAGLC,iBAAO;AAHF,SAAP;AAKD,OAPI;;AASLC,iBAAW,mBAASC,KAAT,EAAgB;AACzB,eAAO;AACLpB,iBAAOF,WAAWqB,SAAX,CAAqBnB,KAArB,EAA4BoB,MAAMpB,KAAlC,CADF;AAELiB,uBAAaG,MAAMH,WAFd;AAGLC,iBAAOE,MAAMH,WAAN,IAAqBnB,WAAWqB,SAAX,CAAqBC,MAAMH,WAAN,CAAkBI,IAAvC,EAA6CD,MAAMF,KAAnD;AAHvB,SAAP;AAKD,OAfI;;AAiBLI,aAAO,eAASC,MAAT,EAAiBH,KAAjB,EAAwB;AAC7B,YAAI,CAACA,MAAMH,WAAX,EAAwB;AACtB,cAAIO,SAASC,QAAb;AAAA,cAAuBC,aAAaH,OAAOb,MAA3C;AACA,eAAK,IAAIiB,IAAI,CAAb,EAAgBA,IAAIpB,QAApB,EAA8B,EAAEoB,CAAhC,EAAmC;AACjC,gBAAIC,QAAQ3B,OAAO0B,CAAP,CAAZ;AACA,gBAAIE,QAAQpB,QAAQiB,UAAR,EAAoBE,MAAME,IAA1B,EAAgCP,OAAOQ,GAAvC,CAAZ;AACA,gBAAIF,SAASN,OAAOQ,GAApB,EAAyB;AACvBR,qBAAOS,KAAP,CAAaJ,MAAME,IAAnB;AACAV,oBAAMH,WAAN,GAAoBW,KAApB;AACAR,oBAAMF,KAAN,GAAcpB,WAAWkB,UAAX,CAAsBY,MAAMP,IAA5B,EAAkCrB,MAAMiC,MAAN,GAAejC,MAAMiC,MAAN,CAAab,MAAMpB,KAAnB,EAA0B,EAA1B,CAAf,GAA+C,CAAjF,CAAd;AACA,qBAAO4B,MAAMM,UAAb;AACD,aALD,MAKO,IAAIL,SAAS,CAAC,CAAV,IAAeA,QAAQL,MAA3B,EAAmC;AACxCA,uBAASK,KAAT;AACD;AACF;AACD,cAAIL,UAAUC,QAAd,EAAwBF,OAAOb,MAAP,GAAgBgB,WAAWtB,KAAX,CAAiB,CAAjB,EAAoBoB,MAApB,CAAhB;AACxB,cAAIW,aAAanC,MAAMsB,KAAN,CAAYC,MAAZ,EAAoBH,MAAMpB,KAA1B,CAAjB;AACA,cAAIwB,UAAUC,QAAd,EAAwBF,OAAOb,MAAP,GAAgBgB,UAAhB;AACxB,iBAAOS,UAAP;AACD,SAlBD,MAkBO;AACL,cAAIC,WAAWhB,MAAMH,WAArB;AAAA,cAAkCS,aAAaH,OAAOb,MAAtD;AACA,cAAI,CAAC0B,SAASC,KAAV,IAAmBd,OAAOe,GAAP,EAAvB,EAAqC;AACnClB,kBAAMH,WAAN,GAAoBG,MAAMF,KAAN,GAAc,IAAlC;AACA,mBAAO,KAAKI,KAAL,CAAWC,MAAX,EAAmBH,KAAnB,CAAP;AACD;AACD,cAAIS,QAAQO,SAASC,KAAT,GAAiB5B,QAAQiB,UAAR,EAAoBU,SAASC,KAA7B,EAAoCd,OAAOQ,GAA3C,CAAjB,GAAmE,CAAC,CAAhF;AACA,cAAIF,SAASN,OAAOQ,GAApB,EAAyB;AACvBR,mBAAOS,KAAP,CAAaI,SAASC,KAAtB;AACAjB,kBAAMH,WAAN,GAAoBG,MAAMF,KAAN,GAAc,IAAlC;AACA,mBAAOkB,SAASF,UAAhB;AACD;AACD,cAAIL,QAAQ,CAAC,CAAb,EAAgBN,OAAOb,MAAP,GAAgBgB,WAAWtB,KAAX,CAAiB,CAAjB,EAAoByB,KAApB,CAAhB;AAChB,cAAIU,aAAaH,SAASf,IAAT,CAAcC,KAAd,CAAoBC,MAApB,EAA4BH,MAAMF,KAAlC,CAAjB;AACA,cAAIW,QAAQ,CAAC,CAAb,EAAgBN,OAAOb,MAAP,GAAgBgB,UAAhB;;AAEhB,cAAIU,SAASI,UAAb,EAAyB;AACvB,gBAAID,UAAJ,EAAgBA,aAAaA,aAAa,GAAb,GAAmBH,SAASI,UAAzC,CAAhB,KACKD,aAAaH,SAASI,UAAtB;AACN;;AAED,iBAAOD,UAAP;AACD;AACF,OA3DI;;AA6DLN,cAAQ,gBAASb,KAAT,EAAgBqB,SAAhB,EAA2B;AACjC,YAAIpB,OAAOD,MAAMH,WAAN,GAAoBG,MAAMH,WAAN,CAAkBI,IAAtC,GAA6CrB,KAAxD;AACA,YAAI,CAACqB,KAAKY,MAAV,EAAkB,OAAOnC,WAAW4C,IAAlB;AAClB,eAAOrB,KAAKY,MAAL,CAAYb,MAAMH,WAAN,GAAoBG,MAAMF,KAA1B,GAAkCE,MAAMpB,KAApD,EAA2DyC,SAA3D,CAAP;AACD,OAjEI;;AAmELE,iBAAW,mBAASvB,KAAT,EAAgB;AACzB,YAAIC,OAAOD,MAAMH,WAAN,GAAoBG,MAAMH,WAAN,CAAkBI,IAAtC,GAA6CrB,KAAxD;AACA,YAAIqB,KAAKsB,SAAT,EAAoB;AAClBtB,eAAKsB,SAAL,CAAevB,MAAMH,WAAN,GAAoBG,MAAMF,KAA1B,GAAkCE,MAAMpB,KAAvD;AACD;AACD,YAAI,CAACoB,MAAMH,WAAX,EAAwB;AACtB,eAAK,IAAIU,IAAI,CAAb,EAAgBA,IAAIpB,QAApB,EAA8B,EAAEoB,CAAhC,EAAmC;AACjC,gBAAIC,QAAQ3B,OAAO0B,CAAP,CAAZ;AACA,gBAAIC,MAAME,IAAN,KAAe,IAAnB,EAAyB;AACvBV,oBAAMH,WAAN,GAAoBW,KAApB;AACAR,oBAAMF,KAAN,GAAcpB,WAAWkB,UAAX,CAAsBY,MAAMP,IAA5B,EAAkCA,KAAKY,MAAL,GAAcZ,KAAKY,MAAL,CAAYb,MAAMpB,KAAlB,EAAyB,EAAzB,CAAd,GAA6C,CAA/E,CAAd;AACD;AACF;AACF,SARD,MAQO,IAAIoB,MAAMH,WAAN,CAAkBoB,KAAlB,KAA4B,IAAhC,EAAsC;AAC3CjB,gBAAMH,WAAN,GAAoBG,MAAMF,KAAN,GAAc,IAAlC;AACD;AACF,OAnFI;;AAqFL0B,qBAAe5C,MAAM4C,aArFhB;;AAuFLC,iBAAW,mBAASzB,KAAT,EAAgB;AACzB,eAAOA,MAAMF,KAAN,GAAc,EAACE,OAAOA,MAAMF,KAAd,EAAqBG,MAAMD,MAAMH,WAAN,CAAkBI,IAA7C,EAAd,GAAmE,EAACD,OAAOA,MAAMpB,KAAd,EAAqBqB,MAAMrB,KAA3B,EAA1E;AACD;AAzFI,KAAP;AA2FD,GAtGD;AAwGC,CAlHD","file":"multiplex.js","sourcesContent":["// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.multiplexingMode = function(outer /*, others */) {\n  // Others should be {open, close, mode [, delimStyle] [, innerStyle]} objects\n  var others = Array.prototype.slice.call(arguments, 1);\n  var n_others = others.length;\n\n  function indexOf(string, pattern, from) {\n    if (typeof pattern == \"string\") return string.indexOf(pattern, from);\n    var m = pattern.exec(from ? string.slice(from) : string);\n    return m ? m.index + from : -1;\n  }\n\n  return {\n    startState: function() {\n      return {\n        outer: CodeMirror.startState(outer),\n        innerActive: null,\n        inner: null\n      };\n    },\n\n    copyState: function(state) {\n      return {\n        outer: CodeMirror.copyState(outer, state.outer),\n        innerActive: state.innerActive,\n        inner: state.innerActive && CodeMirror.copyState(state.innerActive.mode, state.inner)\n      };\n    },\n\n    token: function(stream, state) {\n      if (!state.innerActive) {\n        var cutOff = Infinity, oldContent = stream.string;\n        for (var i = 0; i < n_others; ++i) {\n          var other = others[i];\n          var found = indexOf(oldContent, other.open, stream.pos);\n          if (found == stream.pos) {\n            stream.match(other.open);\n            state.innerActive = other;\n            state.inner = CodeMirror.startState(other.mode, outer.indent ? outer.indent(state.outer, \"\") : 0);\n            return other.delimStyle;\n          } else if (found != -1 && found < cutOff) {\n            cutOff = found;\n          }\n        }\n        if (cutOff != Infinity) stream.string = oldContent.slice(0, cutOff);\n        var outerToken = outer.token(stream, state.outer);\n        if (cutOff != Infinity) stream.string = oldContent;\n        return outerToken;\n      } else {\n        var curInner = state.innerActive, oldContent = stream.string;\n        if (!curInner.close && stream.sol()) {\n          state.innerActive = state.inner = null;\n          return this.token(stream, state);\n        }\n        var found = curInner.close ? indexOf(oldContent, curInner.close, stream.pos) : -1;\n        if (found == stream.pos) {\n          stream.match(curInner.close);\n          state.innerActive = state.inner = null;\n          return curInner.delimStyle;\n        }\n        if (found > -1) stream.string = oldContent.slice(0, found);\n        var innerToken = curInner.mode.token(stream, state.inner);\n        if (found > -1) stream.string = oldContent;\n\n        if (curInner.innerStyle) {\n          if (innerToken) innerToken = innerToken + ' ' + curInner.innerStyle;\n          else innerToken = curInner.innerStyle;\n        }\n\n        return innerToken;\n      }\n    },\n\n    indent: function(state, textAfter) {\n      var mode = state.innerActive ? state.innerActive.mode : outer;\n      if (!mode.indent) return CodeMirror.Pass;\n      return mode.indent(state.innerActive ? state.inner : state.outer, textAfter);\n    },\n\n    blankLine: function(state) {\n      var mode = state.innerActive ? state.innerActive.mode : outer;\n      if (mode.blankLine) {\n        mode.blankLine(state.innerActive ? state.inner : state.outer);\n      }\n      if (!state.innerActive) {\n        for (var i = 0; i < n_others; ++i) {\n          var other = others[i];\n          if (other.open === \"\\n\") {\n            state.innerActive = other;\n            state.inner = CodeMirror.startState(other.mode, mode.indent ? mode.indent(state.outer, \"\") : 0);\n          }\n        }\n      } else if (state.innerActive.close === \"\\n\") {\n        state.innerActive = state.inner = null;\n      }\n    },\n\n    electricChars: outer.electricChars,\n\n    innerMode: function(state) {\n      return state.inner ? {state: state.inner, mode: state.innerActive.mode} : {state: state.outer, mode: outer};\n    }\n  };\n};\n\n});\n"]}