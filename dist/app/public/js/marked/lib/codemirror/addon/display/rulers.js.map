{"version":3,"sources":["../../../../../../../../../app/public/js/marked/lib/codemirror/addon/display/rulers.js"],"names":["mod","exports","module","require","define","amd","CodeMirror","defineOption","cm","val","old","Init","clearRulers","off","refreshRulers","length","setRulers","on","i","display","lineSpace","childNodes","node","test","className","parentNode","removeChild","getOption","cw","defaultCharWidth","left","charCoords","Pos","firstLine","minH","scroller","offsetHeight","elt","document","createElement","col","cls","conf","column","color","style","borderColor","lineStyle","borderLeftStyle","width","borderLeftWidth","top","bottom","minHeight","insertBefore","cursorDiv"],"mappings":"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","file":"rulers.js","sourcesContent":["// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineOption(\"rulers\", false, function(cm, val, old) {\n    if (old && old != CodeMirror.Init) {\n      clearRulers(cm);\n      cm.off(\"refresh\", refreshRulers);\n    }\n    if (val && val.length) {\n      setRulers(cm);\n      cm.on(\"refresh\", refreshRulers);\n    }\n  });\n\n  function clearRulers(cm) {\n    for (var i = cm.display.lineSpace.childNodes.length - 1; i >= 0; i--) {\n      var node = cm.display.lineSpace.childNodes[i];\n      if (/(^|\\s)CodeMirror-ruler($|\\s)/.test(node.className))\n        node.parentNode.removeChild(node);\n    }\n  }\n\n  function setRulers(cm) {\n    var val = cm.getOption(\"rulers\");\n    var cw = cm.defaultCharWidth();\n    var left = cm.charCoords(CodeMirror.Pos(cm.firstLine(), 0), \"div\").left;\n    var minH = cm.display.scroller.offsetHeight + 30;\n    for (var i = 0; i < val.length; i++) {\n      var elt = document.createElement(\"div\");\n      elt.className = \"CodeMirror-ruler\";\n      var col, cls = null, conf = val[i];\n      if (typeof conf == \"number\") {\n        col = conf;\n      } else {\n        col = conf.column;\n        if (conf.className) elt.className += \" \" + conf.className;\n        if (conf.color) elt.style.borderColor = conf.color;\n        if (conf.lineStyle) elt.style.borderLeftStyle = conf.lineStyle;\n        if (conf.width) elt.style.borderLeftWidth = conf.width;\n        cls = val[i].className;\n      }\n      elt.style.left = (left + col * cw) + \"px\";\n      elt.style.top = \"-50px\";\n      elt.style.bottom = \"-20px\";\n      elt.style.minHeight = minH + \"px\";\n      cm.display.lineSpace.insertBefore(elt, cm.display.cursorDiv);\n    }\n  }\n\n  function refreshRulers(cm) {\n    clearRulers(cm);\n    setRulers(cm);\n  }\n});\n"]}