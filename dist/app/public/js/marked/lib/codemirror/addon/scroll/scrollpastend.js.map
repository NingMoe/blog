{"version":3,"sources":["../../../../../../../../../app/public/js/marked/lib/codemirror/addon/scroll/scrollpastend.js"],"names":["mod","exports","module","require","define","amd","CodeMirror","defineOption","cm","val","old","Init","off","onChange","updateBottomMargin","display","lineSpace","parentNode","style","paddingBottom","state","scrollPastEndPadding","on","change","changeEnd","line","lastLine","padding","lineCount","totalH","scroller","clientHeight","lastLineH","getLineHandle","height","setSize"],"mappings":";;;;AAAA;AACA;;AAEA,CAAC,UAASA,GAAT,EAAc;AACb,MAAI,QAAOC,OAAP,yCAAOA,OAAP,MAAkB,QAAlB,IAA8B,QAAOC,MAAP,yCAAOA,MAAP,MAAiB,QAAnD,EAA6D;AAC3DF,QAAIG,QAAQ,sBAAR,CAAJ,EADF,KAEK,IAAI,OAAOC,MAAP,IAAiB,UAAjB,IAA+BA,OAAOC,GAA1C,EAA+C;AAClDD,WAAO,CAAC,sBAAD,CAAP,EAAiCJ,GAAjC,EADG,KAEA;AACHA,QAAIM,UAAJ;AACH,CAPD,EAOG,UAASA,UAAT,EAAqB;AACtB;;AAEAA,aAAWC,YAAX,CAAwB,eAAxB,EAAyC,KAAzC,EAAgD,UAASC,EAAT,EAAaC,GAAb,EAAkBC,GAAlB,EAAuB;AACrE,QAAIA,OAAOA,OAAOJ,WAAWK,IAA7B,EAAmC;AACjCH,SAAGI,GAAH,CAAO,QAAP,EAAiBC,QAAjB;AACAL,SAAGI,GAAH,CAAO,SAAP,EAAkBE,kBAAlB;AACAN,SAAGO,OAAH,CAAWC,SAAX,CAAqBC,UAArB,CAAgCC,KAAhC,CAAsCC,aAAtC,GAAsD,EAAtD;AACAX,SAAGY,KAAH,CAASC,oBAAT,GAAgC,IAAhC;AACD;AACD,QAAIZ,GAAJ,EAAS;AACPD,SAAGc,EAAH,CAAM,QAAN,EAAgBT,QAAhB;AACAL,SAAGc,EAAH,CAAM,SAAN,EAAiBR,kBAAjB;AACAA,yBAAmBN,EAAnB;AACD;AACF,GAZD;;AAcA,WAASK,QAAT,CAAkBL,EAAlB,EAAsBe,MAAtB,EAA8B;AAC5B,QAAIjB,WAAWkB,SAAX,CAAqBD,MAArB,EAA6BE,IAA7B,IAAqCjB,GAAGkB,QAAH,EAAzC,EACEZ,mBAAmBN,EAAnB;AACH;;AAED,WAASM,kBAAT,CAA4BN,EAA5B,EAAgC;AAC9B,QAAImB,UAAU,EAAd;AACA,QAAInB,GAAGoB,SAAH,KAAiB,CAArB,EAAwB;AACtB,UAAIC,SAASrB,GAAGO,OAAH,CAAWe,QAAX,CAAoBC,YAApB,GAAmC,EAAhD;AAAA,UACIC,YAAYxB,GAAGyB,aAAH,CAAiBzB,GAAGkB,QAAH,EAAjB,EAAgCQ,MADhD;AAEAP,gBAAWE,SAASG,SAAV,GAAuB,IAAjC;AACD;AACD,QAAIxB,GAAGY,KAAH,CAASC,oBAAT,IAAiCM,OAArC,EAA8C;AAC5CnB,SAAGY,KAAH,CAASC,oBAAT,GAAgCM,OAAhC;AACAnB,SAAGO,OAAH,CAAWC,SAAX,CAAqBC,UAArB,CAAgCC,KAAhC,CAAsCC,aAAtC,GAAsDQ,OAAtD;AACAnB,SAAG2B,OAAH;AACD;AACF;AACF,CA1CD","file":"scrollpastend.js","sourcesContent":["// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineOption(\"scrollPastEnd\", false, function(cm, val, old) {\n    if (old && old != CodeMirror.Init) {\n      cm.off(\"change\", onChange);\n      cm.off(\"refresh\", updateBottomMargin);\n      cm.display.lineSpace.parentNode.style.paddingBottom = \"\";\n      cm.state.scrollPastEndPadding = null;\n    }\n    if (val) {\n      cm.on(\"change\", onChange);\n      cm.on(\"refresh\", updateBottomMargin);\n      updateBottomMargin(cm);\n    }\n  });\n\n  function onChange(cm, change) {\n    if (CodeMirror.changeEnd(change).line == cm.lastLine())\n      updateBottomMargin(cm);\n  }\n\n  function updateBottomMargin(cm) {\n    var padding = \"\";\n    if (cm.lineCount() > 1) {\n      var totalH = cm.display.scroller.clientHeight - 30,\n          lastLineH = cm.getLineHandle(cm.lastLine()).height;\n      padding = (totalH - lastLineH) + \"px\";\n    }\n    if (cm.state.scrollPastEndPadding != padding) {\n      cm.state.scrollPastEndPadding = padding;\n      cm.display.lineSpace.parentNode.style.paddingBottom = padding;\n      cm.setSize();\n    }\n  }\n});\n"]}