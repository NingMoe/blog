{"version":3,"sources":["../../../../../../../../../app/public/js/marked/lib/codemirror/mode/smalltalk/smalltalk.js"],"names":["mod","exports","module","require","define","amd","CodeMirror","defineMode","config","specialChars","keywords","Context","tokenizer","parent","next","Token","name","context","eos","State","expectVariable","indentation","userIndentationDelta","prototype","userIndent","indentUnit","stream","state","token","aChar","nextComment","nextString","peek","nextSymbol","eatWhile","nextTemporaries","test","Math","max","current","eat","startState","eatSpace","blankLine","indent","textAfter","i","charAt","electricChars","defineMIME"],"mappings":"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","file":"smalltalk.js","sourcesContent":["// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode('smalltalk', function(config) {\n\n  var specialChars = /[+\\-\\/\\\\*~<>=@%|&?!.,:;^]/;\n  var keywords = /true|false|nil|self|super|thisContext/;\n\n  var Context = function(tokenizer, parent) {\n    this.next = tokenizer;\n    this.parent = parent;\n  };\n\n  var Token = function(name, context, eos) {\n    this.name = name;\n    this.context = context;\n    this.eos = eos;\n  };\n\n  var State = function() {\n    this.context = new Context(next, null);\n    this.expectVariable = true;\n    this.indentation = 0;\n    this.userIndentationDelta = 0;\n  };\n\n  State.prototype.userIndent = function(indentation) {\n    this.userIndentationDelta = indentation > 0 ? (indentation / config.indentUnit - this.indentation) : 0;\n  };\n\n  var next = function(stream, context, state) {\n    var token = new Token(null, context, false);\n    var aChar = stream.next();\n\n    if (aChar === '\"') {\n      token = nextComment(stream, new Context(nextComment, context));\n\n    } else if (aChar === '\\'') {\n      token = nextString(stream, new Context(nextString, context));\n\n    } else if (aChar === '#') {\n      if (stream.peek() === '\\'') {\n        stream.next();\n        token = nextSymbol(stream, new Context(nextSymbol, context));\n      } else {\n        if (stream.eatWhile(/[^\\s.{}\\[\\]()]/))\n          token.name = 'string-2';\n        else\n          token.name = 'meta';\n      }\n\n    } else if (aChar === '$') {\n      if (stream.next() === '<') {\n        stream.eatWhile(/[^\\s>]/);\n        stream.next();\n      }\n      token.name = 'string-2';\n\n    } else if (aChar === '|' && state.expectVariable) {\n      token.context = new Context(nextTemporaries, context);\n\n    } else if (/[\\[\\]{}()]/.test(aChar)) {\n      token.name = 'bracket';\n      token.eos = /[\\[{(]/.test(aChar);\n\n      if (aChar === '[') {\n        state.indentation++;\n      } else if (aChar === ']') {\n        state.indentation = Math.max(0, state.indentation - 1);\n      }\n\n    } else if (specialChars.test(aChar)) {\n      stream.eatWhile(specialChars);\n      token.name = 'operator';\n      token.eos = aChar !== ';'; // ; cascaded message expression\n\n    } else if (/\\d/.test(aChar)) {\n      stream.eatWhile(/[\\w\\d]/);\n      token.name = 'number';\n\n    } else if (/[\\w_]/.test(aChar)) {\n      stream.eatWhile(/[\\w\\d_]/);\n      token.name = state.expectVariable ? (keywords.test(stream.current()) ? 'keyword' : 'variable') : null;\n\n    } else {\n      token.eos = state.expectVariable;\n    }\n\n    return token;\n  };\n\n  var nextComment = function(stream, context) {\n    stream.eatWhile(/[^\"]/);\n    return new Token('comment', stream.eat('\"') ? context.parent : context, true);\n  };\n\n  var nextString = function(stream, context) {\n    stream.eatWhile(/[^']/);\n    return new Token('string', stream.eat('\\'') ? context.parent : context, false);\n  };\n\n  var nextSymbol = function(stream, context) {\n    stream.eatWhile(/[^']/);\n    return new Token('string-2', stream.eat('\\'') ? context.parent : context, false);\n  };\n\n  var nextTemporaries = function(stream, context) {\n    var token = new Token(null, context, false);\n    var aChar = stream.next();\n\n    if (aChar === '|') {\n      token.context = context.parent;\n      token.eos = true;\n\n    } else {\n      stream.eatWhile(/[^|]/);\n      token.name = 'variable';\n    }\n\n    return token;\n  };\n\n  return {\n    startState: function() {\n      return new State;\n    },\n\n    token: function(stream, state) {\n      state.userIndent(stream.indentation());\n\n      if (stream.eatSpace()) {\n        return null;\n      }\n\n      var token = state.context.next(stream, state.context, state);\n      state.context = token.context;\n      state.expectVariable = token.eos;\n\n      return token.name;\n    },\n\n    blankLine: function(state) {\n      state.userIndent(0);\n    },\n\n    indent: function(state, textAfter) {\n      var i = state.context.next === next && textAfter && textAfter.charAt(0) === ']' ? -1 : state.userIndentationDelta;\n      return (state.indentation + i) * config.indentUnit;\n    },\n\n    electricChars: ']'\n  };\n\n});\n\nCodeMirror.defineMIME('text/x-stsrc', {name: 'smalltalk'});\n\n});\n"]}