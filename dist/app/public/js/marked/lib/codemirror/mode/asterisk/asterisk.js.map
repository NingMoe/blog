{"version":3,"sources":["../../../../../../../../../app/public/js/marked/lib/codemirror/mode/asterisk/asterisk.js"],"names":["mod","exports","module","require","define","amd","CodeMirror","defineMode","atoms","dpcmd","apps","basicToken","stream","state","cur","ch","next","skipToEnd","skipTo","eat","eatWhile","current","indexOf","ch1","peek","extenStart","extenSame","extenInclude","startState","extenExten","extenPriority","extenApplication","token","eatSpace","test","toLowerCase","defineMIME"],"mappings":"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","file":"asterisk.js","sourcesContent":["// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n/*\n * =====================================================================================\n *\n *       Filename:  mode/asterisk/asterisk.js\n *\n *    Description:  CodeMirror mode for Asterisk dialplan\n *\n *        Created:  05/17/2012 09:20:25 PM\n *       Revision:  none\n *\n *         Author:  Stas Kobzar (stas@modulis.ca),\n *        Company:  Modulis.ca Inc.\n *\n * =====================================================================================\n */\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"asterisk\", function() {\n  var atoms    = [\"exten\", \"same\", \"include\",\"ignorepat\",\"switch\"],\n      dpcmd    = [\"#include\",\"#exec\"],\n      apps     = [\n                  \"addqueuemember\",\"adsiprog\",\"aelsub\",\"agentlogin\",\"agentmonitoroutgoing\",\"agi\",\n                  \"alarmreceiver\",\"amd\",\"answer\",\"authenticate\",\"background\",\"backgrounddetect\",\n                  \"bridge\",\"busy\",\"callcompletioncancel\",\"callcompletionrequest\",\"celgenuserevent\",\n                  \"changemonitor\",\"chanisavail\",\"channelredirect\",\"chanspy\",\"clearhash\",\"confbridge\",\n                  \"congestion\",\"continuewhile\",\"controlplayback\",\"dahdiacceptr2call\",\"dahdibarge\",\n                  \"dahdiras\",\"dahdiscan\",\"dahdisendcallreroutingfacility\",\"dahdisendkeypadfacility\",\n                  \"datetime\",\"dbdel\",\"dbdeltree\",\"deadagi\",\"dial\",\"dictate\",\"directory\",\"disa\",\n                  \"dumpchan\",\"eagi\",\"echo\",\"endwhile\",\"exec\",\"execif\",\"execiftime\",\"exitwhile\",\"extenspy\",\n                  \"externalivr\",\"festival\",\"flash\",\"followme\",\"forkcdr\",\"getcpeid\",\"gosub\",\"gosubif\",\n                  \"goto\",\"gotoif\",\"gotoiftime\",\"hangup\",\"iax2provision\",\"ices\",\"importvar\",\"incomplete\",\n                  \"ivrdemo\",\"jabberjoin\",\"jabberleave\",\"jabbersend\",\"jabbersendgroup\",\"jabberstatus\",\n                  \"jack\",\"log\",\"macro\",\"macroexclusive\",\"macroexit\",\"macroif\",\"mailboxexists\",\"meetme\",\n                  \"meetmeadmin\",\"meetmechanneladmin\",\"meetmecount\",\"milliwatt\",\"minivmaccmess\",\"minivmdelete\",\n                  \"minivmgreet\",\"minivmmwi\",\"minivmnotify\",\"minivmrecord\",\"mixmonitor\",\"monitor\",\"morsecode\",\n                  \"mp3player\",\"mset\",\"musiconhold\",\"nbscat\",\"nocdr\",\"noop\",\"odbc\",\"odbc\",\"odbcfinish\",\n                  \"originate\",\"ospauth\",\"ospfinish\",\"osplookup\",\"ospnext\",\"page\",\"park\",\"parkandannounce\",\n                  \"parkedcall\",\"pausemonitor\",\"pausequeuemember\",\"pickup\",\"pickupchan\",\"playback\",\"playtones\",\n                  \"privacymanager\",\"proceeding\",\"progress\",\"queue\",\"queuelog\",\"raiseexception\",\"read\",\"readexten\",\n                  \"readfile\",\"receivefax\",\"receivefax\",\"receivefax\",\"record\",\"removequeuemember\",\n                  \"resetcdr\",\"retrydial\",\"return\",\"ringing\",\"sayalpha\",\"saycountedadj\",\"saycountednoun\",\n                  \"saycountpl\",\"saydigits\",\"saynumber\",\"sayphonetic\",\"sayunixtime\",\"senddtmf\",\"sendfax\",\n                  \"sendfax\",\"sendfax\",\"sendimage\",\"sendtext\",\"sendurl\",\"set\",\"setamaflags\",\n                  \"setcallerpres\",\"setmusiconhold\",\"sipaddheader\",\"sipdtmfmode\",\"sipremoveheader\",\"skel\",\n                  \"slastation\",\"slatrunk\",\"sms\",\"softhangup\",\"speechactivategrammar\",\"speechbackground\",\n                  \"speechcreate\",\"speechdeactivategrammar\",\"speechdestroy\",\"speechloadgrammar\",\"speechprocessingsound\",\n                  \"speechstart\",\"speechunloadgrammar\",\"stackpop\",\"startmusiconhold\",\"stopmixmonitor\",\"stopmonitor\",\n                  \"stopmusiconhold\",\"stopplaytones\",\"system\",\"testclient\",\"testserver\",\"transfer\",\"tryexec\",\n                  \"trysystem\",\"unpausemonitor\",\"unpausequeuemember\",\"userevent\",\"verbose\",\"vmauthenticate\",\n                  \"vmsayname\",\"voicemail\",\"voicemailmain\",\"wait\",\"waitexten\",\"waitfornoise\",\"waitforring\",\n                  \"waitforsilence\",\"waitmusiconhold\",\"waituntil\",\"while\",\"zapateller\"\n                 ];\n\n  function basicToken(stream,state){\n    var cur = '';\n    var ch  = '';\n    ch = stream.next();\n    // comment\n    if(ch == \";\") {\n      stream.skipToEnd();\n      return \"comment\";\n    }\n    // context\n    if(ch == '[') {\n      stream.skipTo(']');\n      stream.eat(']');\n      return \"header\";\n    }\n    // string\n    if(ch == '\"') {\n      stream.skipTo('\"');\n      return \"string\";\n    }\n    if(ch == \"'\") {\n      stream.skipTo(\"'\");\n      return \"string-2\";\n    }\n    // dialplan commands\n    if(ch == '#') {\n      stream.eatWhile(/\\w/);\n      cur = stream.current();\n      if(dpcmd.indexOf(cur) !== -1) {\n        stream.skipToEnd();\n        return \"strong\";\n      }\n    }\n    // application args\n    if(ch == '$'){\n      var ch1 = stream.peek();\n      if(ch1 == '{'){\n        stream.skipTo('}');\n        stream.eat('}');\n        return \"variable-3\";\n      }\n    }\n    // extension\n    stream.eatWhile(/\\w/);\n    cur = stream.current();\n    if(atoms.indexOf(cur) !== -1) {\n      state.extenStart = true;\n      switch(cur) {\n        case 'same': state.extenSame = true; break;\n        case 'include':\n        case 'switch':\n        case 'ignorepat':\n          state.extenInclude = true;break;\n        default:break;\n      }\n      return \"atom\";\n    }\n  }\n\n  return {\n    startState: function() {\n      return {\n        extenStart: false,\n        extenSame:  false,\n        extenInclude: false,\n        extenExten: false,\n        extenPriority: false,\n        extenApplication: false\n      };\n    },\n    token: function(stream, state) {\n\n      var cur = '';\n      var ch  = '';\n      if(stream.eatSpace()) return null;\n      // extension started\n      if(state.extenStart){\n        stream.eatWhile(/[^\\s]/);\n        cur = stream.current();\n        if(/^=>?$/.test(cur)){\n          state.extenExten = true;\n          state.extenStart = false;\n          return \"strong\";\n        } else {\n          state.extenStart = false;\n          stream.skipToEnd();\n          return \"error\";\n        }\n      } else if(state.extenExten) {\n        // set exten and priority\n        state.extenExten = false;\n        state.extenPriority = true;\n        stream.eatWhile(/[^,]/);\n        if(state.extenInclude) {\n          stream.skipToEnd();\n          state.extenPriority = false;\n          state.extenInclude = false;\n        }\n        if(state.extenSame) {\n          state.extenPriority = false;\n          state.extenSame = false;\n          state.extenApplication = true;\n        }\n        return \"tag\";\n      } else if(state.extenPriority) {\n        state.extenPriority = false;\n        state.extenApplication = true;\n        ch = stream.next(); // get comma\n        if(state.extenSame) return null;\n        stream.eatWhile(/[^,]/);\n        return \"number\";\n      } else if(state.extenApplication) {\n        stream.eatWhile(/,/);\n        cur = stream.current();\n        if(cur === ',') return null;\n        stream.eatWhile(/\\w/);\n        cur = stream.current().toLowerCase();\n        state.extenApplication = false;\n        if(apps.indexOf(cur) !== -1){\n          return \"def strong\";\n        }\n      } else{\n        return basicToken(stream,state);\n      }\n\n      return null;\n    }\n  };\n});\n\nCodeMirror.defineMIME(\"text/x-asterisk\", \"asterisk\");\n\n});\n"]}