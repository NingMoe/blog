{"version":3,"sources":["../../../../app/public/js/gt.js"],"names":["window","Error","document","Math","head","getElementsByTagName","_Object","obj","_obj","prototype","_each","process","k","hasOwnProperty","Config","config","self","key","value","api_server","protocol","typePath","fallback_config","slide","static_servers","type","fullpage","_get_fallback_config","isString","new_captcha","_extend","isNumber","isBoolean","isObject","isFunction","callbacks","status","random","parseInt","Date","valueOf","loadScript","url","cb","script","createElement","charset","async","onerror","loaded","onload","onreadystatechange","readyState","setTimeout","src","appendChild","normalizeDomain","domain","replace","normalizePath","path","indexOf","normalizeQuery","query","q","encodeURIComponent","makeURL","load","domains","tryRequest","at","err","length","jsonp","callback","getLib","offline","data","undefined","e","gt","throwError","errorType","errors","networkError","gtTypeError","onError","detect","Geetest","getElementById","initGeetest","userConfig","https","location","apiserver","getType","newConfig","init","s","push","cbs","i","len"],"mappings":"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","file":"gt.js","sourcesContent":["\"v0.4.6 Geetest Inc.\";\n\n(function (window) {\n    \"use strict\";\n    if (typeof window === 'undefined') {\n        throw new Error('Geetest requires browser environment');\n    }\n\nvar document = window.document;\nvar Math = window.Math;\nvar head = document.getElementsByTagName(\"head\")[0];\n\nfunction _Object(obj) {\n    this._obj = obj;\n}\n\n_Object.prototype = {\n    _each: function (process) {\n        var _obj = this._obj;\n        for (var k in _obj) {\n            if (_obj.hasOwnProperty(k)) {\n                process(k, _obj[k]);\n            }\n        }\n        return this;\n    }\n};\n\nfunction Config(config) {\n    var self = this;\n    new _Object(config)._each(function (key, value) {\n        self[key] = value;\n    });\n}\n\nConfig.prototype = {\n    api_server: 'api.geetest.com',\n    protocol: 'http://',\n    typePath: '/gettype.php',\n    fallback_config: {\n        slide: {\n            static_servers: [\"static.geetest.com\", \"dn-staticdown.qbox.me\"],\n            type: 'slide',\n            slide: '/static/js/geetest.0.0.0.js'\n        },\n        fullpage: {\n            static_servers: [\"static.geetest.com\", \"dn-staticdown.qbox.me\"],\n            type: 'fullpage',\n            fullpage: '/static/js/fullpage.0.0.0.js'\n        }\n    },\n    _get_fallback_config: function () {\n        var self = this;\n        if (isString(self.type)) {\n            return self.fallback_config[self.type];\n        } else if (self.new_captcha) {\n            return self.fallback_config.fullpage;\n        } else {\n            return self.fallback_config.slide;\n        }\n    },\n    _extend: function (obj) {\n        var self = this;\n        new _Object(obj)._each(function (key, value) {\n            self[key] = value;\n        })\n    }\n};\nvar isNumber = function (value) {\n    return (typeof value === 'number');\n};\nvar isString = function (value) {\n    return (typeof value === 'string');\n};\nvar isBoolean = function (value) {\n    return (typeof value === 'boolean');\n};\nvar isObject = function (value) {\n    return (typeof value === 'object' && value !== null);\n};\nvar isFunction = function (value) {\n    return (typeof value === 'function');\n};\n\nvar callbacks = {};\nvar status = {};\n\nvar random = function () {\n    return parseInt(Math.random() * 10000) + (new Date()).valueOf();\n};\n\nvar loadScript = function (url, cb) {\n    var script = document.createElement(\"script\");\n    script.charset = \"UTF-8\";\n    script.async = true;\n\n    script.onerror = function () {\n        cb(true);\n    };\n    var loaded = false;\n    script.onload = script.onreadystatechange = function () {\n        if (!loaded &&\n            (!script.readyState ||\n            \"loaded\" === script.readyState ||\n            \"complete\" === script.readyState)) {\n\n            loaded = true;\n            setTimeout(function () {\n                cb(false);\n            }, 0);\n        }\n    };\n    script.src = url;\n    head.appendChild(script);\n};\n\nvar normalizeDomain = function (domain) {\n    // special domain: uems.sysu.edu.cn/jwxt/geetest/\n    // return domain.replace(/^https?:\\/\\/|\\/.*$/g, ''); uems.sysu.edu.cn\n    return domain.replace(/^https?:\\/\\/|\\/$/g, ''); // uems.sysu.edu.cn/jwxt/geetest\n};\nvar normalizePath = function (path) {\n    path = path.replace(/\\/+/g, '/');\n    if (path.indexOf('/') !== 0) {\n        path = '/' + path;\n    }\n    return path;\n};\nvar normalizeQuery = function (query) {\n    if (!query) {\n        return '';\n    }\n    var q = '?';\n    new _Object(query)._each(function (key, value) {\n        if (isString(value) || isNumber(value) || isBoolean(value)) {\n            q = q + encodeURIComponent(key) + '=' + encodeURIComponent(value) + '&';\n        }\n    });\n    if (q === '?') {\n        q = '';\n    }\n    return q.replace(/&$/, '');\n};\nvar makeURL = function (protocol, domain, path, query) {\n    domain = normalizeDomain(domain);\n\n    var url = normalizePath(path) + normalizeQuery(query);\n    if (domain) {\n        url = protocol + domain + url;\n    }\n\n    return url;\n};\n\nvar load = function (protocol, domains, path, query, cb) {\n    var tryRequest = function (at) {\n\n        var url = makeURL(protocol, domains[at], path, query);\n        loadScript(url, function (err) {\n            if (err) {\n                if (at >= domains.length - 1) {\n                    cb(true);\n                } else {\n                    tryRequest(at + 1);\n                }\n            } else {\n                cb(false);\n            }\n        });\n    };\n    tryRequest(0);\n};\n\n\nvar jsonp = function (domains, path, config, callback) {\n    if (isObject(config.getLib)) {\n        config._extend(config.getLib);\n        callback(config);\n        return;\n    }\n    if (config.offline) {\n        callback(config._get_fallback_config());\n        return;\n    }\n\n    var cb = \"geetest_\" + random();\n    window[cb] = function (data) {\n        if (data.status == 'success') {\n            callback(data.data);\n        } else if (!data.status) {\n            callback(data);\n        } else {\n            callback(config._get_fallback_config());\n        }\n        window[cb] = undefined;\n        try {\n            delete window[cb];\n        } catch (e) {\n        }\n    };\n    load(config.protocol, domains, path, {\n        gt: config.gt,\n        callback: cb\n    }, function (err) {\n        if (err) {\n            callback(config._get_fallback_config());\n        }\n    });\n};\n\nvar throwError = function (errorType, config) {\n    var errors = {\n        networkError: '网络错误',\n        gtTypeError: 'gt字段不是字符串类型'\n    };\n    if (typeof config.onError === 'function') {\n        config.onError(errors[errorType]);\n    } else {\n        throw new Error(errors[errorType]);\n    }\n};\n\nvar detect = function () {\n    return window.Geetest || document.getElementById(\"gt_lib\");\n};\n\nif (detect()) {\n    status.slide = \"loaded\";\n}\n\nwindow.initGeetest = function (userConfig, callback) {\n\n    var config = new Config(userConfig);\n\n    if (userConfig.https) {\n        config.protocol = 'https://';\n    } else if (!userConfig.protocol) {\n        config.protocol = window.location.protocol + '//';\n    }\n\n    // for KFC\n    if (userConfig.gt === '050cffef4ae57b5d5e529fea9540b0d1' ||\n        userConfig.gt === '3bd38408ae4af923ed36e13819b14d42') {\n        config.apiserver = 'yumchina.geetest.com/'; // for old js\n        config.api_server = 'yumchina.geetest.com';\n    }\n\n    if (isObject(userConfig.getType)) {\n        config._extend(userConfig.getType);\n    }\n    jsonp([config.api_server || config.apiserver], config.typePath, config, function (newConfig) {\n        var type = newConfig.type;\n        var init = function () {\n            config._extend(newConfig);\n            callback(new window.Geetest(config));\n        };\n\n        callbacks[type] = callbacks[type] || [];\n        var s = status[type] || 'init';\n        if (s === 'init') {\n            status[type] = 'loading';\n\n            callbacks[type].push(init);\n\n            load(config.protocol, newConfig.static_servers || newConfig.domains, newConfig[type] || newConfig.path, null, function (err) {\n                if (err) {\n                    status[type] = 'fail';\n                    throwError('networkError', config);\n                } else {\n                    status[type] = 'loaded';\n                    var cbs = callbacks[type];\n                    for (var i = 0, len = cbs.length; i < len; i = i + 1) {\n                        var cb = cbs[i];\n                        if (isFunction(cb)) {\n                            cb();\n                        }\n                    }\n                    callbacks[type] = [];\n                }\n            });\n        } else if (s === \"loaded\") {\n            init();\n        } else if (s === \"fail\") {\n            throwError('networkError', config);\n        } else if (s === \"loading\") {\n            callbacks[type].push(init);\n        }\n    });\n\n};\n\n\n})(window);\n"]}