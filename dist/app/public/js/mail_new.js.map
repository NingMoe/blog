{"version":3,"sources":["../../../../app/public/js/mail_new.js"],"names":["VM","Vue","delimiters","el","data","isCollapse","dialogFormVisible","mailUsers","form","name","title","fileList","formLabelWidth","mailReceiverValue","mailReceiver","methods","init","initEditor","get_mail_users","getMailReceivers","mailUserSelectionChange","options","multipleSelection","handleOpen","key","keyPath","console","log","handleClose","handleChange","value","direction","movedKeys","$http","get","then","res","body","code","ok","mailUserTotal","count","mail_user","list","forEach","item","group","mail_receiver","tmp","push","label","renderFunc","i","length","handlePreview","handleRemove","onSubmit","addContacts","w","h","E","window","wangEditor","wangedit","customConfig","menus","create","mailReceiverConfirm","join","alertInfo","msg","$message","alertSuccess","message","type","alertWarning","alertError","error"],"mappings":"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","file":"mail_new.js","sourcesContent":["const VM = new Vue({\n    delimiters: ['${', '}'],\n    el:'#app-maile-new',\n    data:{\n        isCollapse: false,\n        dialogFormVisible:false,\n        mailUsers: [],\n        form:{\n            name:'',\n            title:''\n        },\n        fileList:[],\n        formLabelWidth: '120px',\n        mailReceiverValue: [],\n        mailReceiver:[]\n    },\n    methods:{\n        init:function(){\n            this.initEditor(300, 450);\n            this.get_mail_users();\n            this.getMailReceivers();\n        },\n        mailUserSelectionChange(options) {\n            this.multipleSelection = options;\n        },\n        handleOpen(key, keyPath) {\n            console.log(key, keyPath);\n        },\n        handleClose(key, keyPath) {\n            console.log(key, keyPath);\n        },\n        handleChange(value, direction, movedKeys) {\n            console.log(value, direction, movedKeys);\n        },\n        get_mail_users:function(){\n            this.$http.get('/api/mail/user/list?offset=1&num=100').then(res=>{\n                if(res.body.code && res.body.ok){\n                    this.mailUserTotal = res.body.data.count;\n                    let mail_user = res.body.data.list;\n                    mail_user.forEach(item=>{\n                        item.group = item.group.name;\n                    });\n                    this.mailUsers = mail_user;\n                }\n            });\n        },\n        getMailReceivers:function(){\n            this.$http.get('/api/mail/user/list?offset=1&num=100').then(res=>{\n                if(res.body.code && res.body.ok){\n                    this.mailUserTotal = res.body.data.count;\n                    let mail_receiver = res.body.data.list;\n                    let tmp = [];\n                    mail_receiver.forEach(item=>{\n                        tmp.push({key:item.name,label:item.name});\n                    });\n                    this.mailReceiver = tmp;\n                }\n            });\n        },\n        renderFunc: function() {\n            let tmp = '';\n            for(var i=0;i<this.mailUsers.length;i++){\n                tmp += '<span>'+this.mailUsers.name+' - '+this.mailUsers.name+'</span>';\n            }\n            return tmp;\n        },\n        handlePreview:function(){},\n        handleRemove:function(){},\n        onSubmit:function(){},\n        addContacts:function(){\n            this.dialogFormVisible = true;\n        },\n        initEditor: function(w, h) {\n            const E = window.wangEditor;\n            this.wangedit = new E('#exampleTextarea');\n            this.wangedit.customConfig.menus = [\n                'head', // 标题\n                'bold', // 粗体\n                'italic', // 斜体\n                'underline', // 下划线\n                'strikeThrough', // 删除线\n                'foreColor', // 文字颜色\n                'backColor', // 背景颜色\n                'link', // 插入链接\n                'list', // 列表\n                'justify', // 对齐方式\n                'quote', // 引用\n                'emoticon', // 表情\n                'image', // 插入图片\n                'table', // 表格\n                'video', // 插入视频\n                'code', // 插入代码\n                'undo', // 撤销\n                'redo' // 重复\n            ];\n            // editor.customConfig.onchange = function (html) {\n            //     // html 即变化之后的内容\n            //     this.contents = html;\n            //     // console.log(html)\n            // }\n            this.wangedit.create();\n\n        },\n        mailReceiverConfirm:function(){\n            this.dialogFormVisible = false;\n            this.form.name = this.mailReceiverValue.join();\n        },\n        alertInfo(msg) {\n            this.$message(msg);\n        },\n        alertSuccess(msg) {\n            this.$message({\n                message: msg,\n                type: 'success'\n            });\n        },\n\n        alertWarning(msg) {\n            this.$message({\n                message: msg,\n                type: 'warning'\n            });\n        },\n\n        alertError(msg) {\n            this.$message.error(msg);\n        }\n    }\n});\nVM.init();"]}