<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>添加文章</title>
    <link rel="stylesheet" href="https://bootswatch.com/4/simplex/bootstrap.min.css">
    <link rel="stylesheet" href="/public/css/public.css" />
    <link rel="stylesheet" href="/public/js/marked/css/editormd.min.css" />
    <link rel="stylesheet" href="/public/css/articleeditor.css" />
    <script type="text/javascript" src="/public/js/vue.js"></script>
    <script type="text/javascript" src="/public/js/vue-resource.js"></script>
    <script type="text/javascript" src="/public/js/marked/jquery-1.8.3.js"></script>
    <script type="text/javascript" src="/public/js/wangEditor.js"></script>
    <script type="text/javascript" src="/public/js/marked/editormd.min.js"></script>
    <script type="text/javascript">
        var token = '{{ token }}';
        var uid = '{{ userInfo.uid }}';
    </script>
</head>
<body>
    <div id="article-editor-app">
        <div class="article-editor-layout-left" v-bind:style="{height:editorsHeight}">
            <div class="callback-index-block"><a href="/" class="callback-index-link">返回首页</a></div>
            <div class="create-document-but-block"><a href="javascript:void(0);" class="create-document-but" v-on:click="createDocument($event)"><i class="icon iconfont">&#xe628;</i>&nbsp;&nbsp;创建文集</a></div>
            <div class="create-document-input-block" v-bind:style="{display:docInputBox}">
                <form v-on:submit.prevent="confirmDocSubmitForm($event)">
                    <input type="text" name="doc-name" id="doc-name" v-on:focus.prevent="focus($event)" v-model="docName" value="" placeholder="输入文集名称" />
                    <input type="hidden" name="uid" id="uid" v-model="uid" value="" />
                    <input type="hidden" name="token" id="token" v-model="token" value="" />
                    <div class="button-blox">
                        <input type="submit" value="确定" id="doc-confirm-but" />
                        <input type="reset" value="取消" id="doc-reset-but" v-on:click.prevent="cleanDocConfirm($event)"/>
                    </div>
                </form>
            </div>
            <div class="documents-list-group-block">
                <ul class="documents-list-group-box">
                    <!--document-list-default-->
                    <li class="documents-list-box" v-for="(doc,$index) in docList" v-on:click="selectDocumentButs($event,doc,$index)" v-bind:class="{'document-active':doc.active,'document-unactive':!doc.active}">
                        <span class="document-name">${doc.name}</span>
                        <span class="document-setting-buts" v-on:click="documentSetting($event,doc._id)"><i class="icon iconfont">&#xe926;</i></span>
                    </li>
                    <!--<li class="documents-list-box">-->
                        <!--<span class="document-name">随笔</span>-->
                        <!--<span class="document-setting-buts" v-on:click="documentSetting($event)"><i class="icon iconfont">&#xe926;</i></span>-->
                    <!--</li>-->
                </ul>
            </div>
        </div>
        <div class="article-editor-layout-center">
            <div class="create-article-but-block"><a href="javascript:void(0);" class="create-article-but" v-on:click="createArticle($event)"><i class="icon iconfont">&#xe6a3;</i>&nbsp;&nbsp;创建文章&nbsp;&nbsp;<span class="loading-box" v-bind:style="{display:showLoadBut}"></span></a></div>
            <div class="article-list-group-block">
                <ul class="article-list-group-box">
                    <!--article-list-default-->
                    <li class="article-list-box" v-for="(article,$index) in articleLsts" v-on:click="selectArticleBut($event,article,$index)" v-bind:class="{'article-active':article.active,'article-unactive':!article.active}">
                        <i class="icon iconfont article-iconfont">&#xe62e;</i>
                        <span class="article-name">${article.title}</span>
                        <span class="article-setting-buts" v-on:click="articleSetting($event,article._id)"><i class="icon iconfont">&#xe926;</i></span>
                    </li>
                    <!--<li class="article-list-box">-->
                        <!--<i class="icon iconfont article-iconfont">&#xe62e;</i>-->
                        <!--<span class="article-name" v-text="title"></span>-->
                        <!--<span class="article-setting-buts" v-on:click="articleSetting($event)"><i class="icon iconfont">&#xe926;</i></span>-->
                    <!--</li>-->
                    <!--<li class="article-list-box">-->
                        <!--<i class="icon iconfont article-iconfont">&#xe62e;</i>-->
                        <!--<span class="article-name" v-text="title"></span>-->
                        <!--<span class="article-setting-buts" v-on:click="articleSetting($event)"><i class="icon iconfont">&#xe926;</i></span>-->
                    <!--</li>-->
                </ul>
            </div>
        </div>
        <div class="article-editor-layout-right">
            <div class="article-editor-block">
                <div class="article-editor-title">
                    <input type="text" name="article-title" id="article-title" value="" v-model="title">
                    <span class="save-tip-box">已保存</span>
                    <a href="javascript:void(0);" class="send-article-but" title="发布文章" v-on:click="saveArticle($event,nowArticleId)"><i class="icon iconfont">&#xe662;</i></a>
                </div>
                <div class="article-editor-contents-block">
                    <div id="editormd" v-bind:style="{display:markdownEditor,width:editorsWidth,height:editorsHeight}">
                        <textarea style="display:none;" v-model="contents">### 文章详情</textarea>
                    </div>
                    <div id="exampleTextarea" v-bind:style="{display:wangEditor,width:editorsWidth,height:editorsHeight}" v-text="contents"></div>
                    <input type="hidden" name="uid" id="uid" v-model="uid" value="" />
                    <input type="hidden" name="token" id="token" v-model="token" value="" />
                    <input type="hidden" name="doc-id" id="doc-id" v-model="doc_id" value="" />
                    <input type="hidden" name="article-id" id="article-id" v-model="nowArticleId" value="" />
                </div>
            </div>
        </div>
    </div>
</body>
<script type="text/javascript" src="/public/js/articleeditor.js"></script>
</html>